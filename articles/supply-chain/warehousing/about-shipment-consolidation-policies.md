---
title: 배송 통합 정책
description: 이 항목에서는 배송 통합 정책의 유연한 구성을 제공하는 기능에 대한 개요를 제공합니다.
author: GarmMSFT
ms.date: 05/12/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSShipConsolidationPolicy, WHSShipConsolidationWorkbench, WHSShipConsolidationError, WHSShipConsolidationSetShipment, WHSShipConsolidationPolicySelect, WHSShipPlanningListPage, TMSCarrierGroup, WHSShipConsolidationTemplate, WHSShipConsolidationTemplateApply, WHSShipConsolidationTemplateCreate
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2020-05-01
ms.dyn365.ops.version: 10.0.3
ms.openlocfilehash: 11ee4beefed02425d4650de3e896e608d3d00ef5
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/29/2021
ms.locfileid: "8449059"
---
# <a name="shipment-consolidation-policies"></a>배송 통합 정책

[!include [banner](../includes/banner.md)]

선적 통합 정책을 사용하는 선적 통합 프로세스를 통해 창고로의 자동 및 수동 릴리스 동안 자동 선적 통합이 가능합니다. 이 기능이 도입되기 전에 사용할 수 있었던 자동화된 통합에는 필드가 하드 코딩되어 있었고 창고용으로 설정된 **출고 시 창고로 배송 통합** 필드를 기반으로 했었습니다.

배송 통합 정책은 다음 기능에 사용됩니다.

- 자동화된 출고-창고 일괄 처리 작업
- 판매 주문 또는 이전 주문의 **창고로 출고** 명령
- 전용 **창고로 출고** 페이지
- **적재 계획 워크벤치** 페이지의 **창고로 출고** 명령
- **배송 통합** 및 **배송 통합 워크벤치** 페이지의 배송 수동 통합

배송 통합 정책이 도입되기 전에는 통합 기능이 창고 수준의 설정으로 존재했습니다. 단일 창고의 모든 고객에 대한 모든 주문은 동일한 통합 요구 사항이 있는 것처럼 처리되었습니다. 배송 통합 정책은 조직마다 배송 통합에 대한 요구 사항이 다른 시나리오에 대한 지원을 추가합니다.

쿼리는 적용되는 배송 통합 정책을 식별하는 데 사용되며 편집 가능한 필드 집합은 배송 수준에서 로드 라인을 그룹화하는 방법을 결정합니다. (이 패턴은 웨이브 템플릿이 따르는 패턴과 유사합니다.) 또한 **기존 배송과 통합** 옵션이 각 정책에 추가되었습니다. 이 옵션을 켜면 *창고로 출고* 절차는 동일한 통합 정책을 기반으로 생성된 기존 발송물 중에서 검색하여 통합할 발송물을 찾습니다. 이 경우 시스템은 새 발송물을 생성하는 대신 기존 발송물이나 화물을 선택합니다. 그러나 시스템은 *열림* 상태의 기존 발송물과만 통합됩니다. 상태가 *출고됨* 이상인 웨이브 릴리스에 속하는 배송은 통합 대상으로 간주되지 않습니다.

배송 통합 정책을 사용할 수 있게 되면 이전에 **창고** 설정 페이지에서 사용할 수 있었던 **출고 시 창고로 배송 통합** 설정이 숨겨집니다. 새로운 배송 통합 기능으로 전환하는 데 도움이 되도록 **배송 통합 정책** 페이지의 기능은 기존 창고에 대한 이전 설정을 자동으로 포함하는 기본 정책을 생성합니다. 해당 기본 정책이 생성된 후에는 **창고** 설정 페이지의 **출고 시 창고로 배송 통합** 설정이 더 이상 고려되지 않습니다.

**창고로 출고** 페이지를 사용하여 주문 이행 정책을 재정의하는 것과 동일한 방식으로 해당 통합 정책을 수동으로 재정의할 수 있습니다.

**적재 계획 워크벤치** 페이지에서 **출고 \> 창고로 출고** 명령을 사용하여 창고로 출고하기 전에 판매 주문 및 이전 주문 라인을 기반으로 하는 아웃바운드 로드를 구축할 수 있습니다. 이러한 적재는 배송 정책 통합과 함께 도입된 동일한 통합 논리를 사용합니다.

**배송 통합 워크벤치** 페이지를 사용하여 아직 확인되지 않았지만 이미 창고로 출고된 기존 배송을 통합할 수 있습니다. 이 기능은 자체 배송 통합이 있는 자동 출고 프로세스가 하루에 여러 번 실행되지만 확인 프로세스 중에 운송업체로의 배송이 완료되기 전에 잠재적인 추가 통합이 수동으로 식별되는 시나리오를 지원합니다. 이 기능을 사용하면 배송이 창고로 출고된 후 확인되기 전에 언제든지 판매 주문 또는 이전 주문 라인에서 생성된 아웃바운드 배송을 통합할 수 있습니다.

**배송 통합 워크벤치** 페이지는 동시에 여러 배송을 평가하고 특정 배송에 비통합 주문을 할당할 수 있는 적재 빌딩 워크벤치처럼 작동합니다. 배송 통합 템플릿을 적용하여 제안된 통합을 여러 번 평가하고 확인할 수 있습니다. 일부 규칙은 무단 통합을 방지하고 가능한 오류에 대해 경고하기 위해 구현됩니다.

## <a name="overview-of-new-functionality"></a>새로운 기능 개요

이 섹션에서는 *배송 통합 정책* 기능을 켜고 사용할 때 변경되거나 추가되는 페이지, 명령 및 기능에 대해 설명합니다.

### <a name="shipment-consolidation-policies-page"></a>배송 통합 정책 페이지

정책은 작업 주문 유형에 따라 다릅니다. **판매 주문** 유형은 _판매 주문_ 배송을 나타내며 **이전 주문** 유형은 _이전 문제_ 배송을 나타냅니다.

모든 배송 통합 정책에는 적용 시점을 정의하는 쿼리와 실행 순서를 결정하는 시퀀스 번호가 있습니다. 선택한 필드의 고유한 각 조합에 대해 통합이 적용됩니다. 제공된 추가 매개 변수는 기존(미결) 발송물과의 통합에 사용됩니다. 새 배송이 생성될 때마다 정책이 평가되고 적용됩니다(웨이브 처리 전).

정책에 필수 필드가 누락되었거나 금지된 필드가 포함된 경우 정책은 **선택됨** 섹션에서 유효하지 않은 것으로 표시됩니다. 필수 및 금지 필드 목록은 하드 코딩되어 있으며 확장할 수 있습니다.

다음 목록은 필수 필드를 보여줍니다. 배송은 항상 이러한 필드를 기반으로 분할되기 때문에 이러한 필드에 대해 다른 값을 가진 여러 배송을 그룹화할 수 없습니다.

- 판매 주문의 경우:

    - **계정 번호:** _WHSshipmentTable.AccountNum_
    - **배달 받는 사람:** _WHSShipmentTable.DeliveryName_
    - **우편 주소(RecId):** _WHSShipmentTable.DeliveryPostalAddress_
    - **창고:** _WHSShipmentTable.InventLocationId_

- 이전 주문의 경우:

    - **보내는 창고:** _InventTransferTable.InventLocationIdFrom_
    - **받는 창고:** _InventTransferTable.InventLocationIdTo_

다음 필드는 모든 문서 유형에 사용할 수 없습니다. 이러한 필드는 UI(사용자 인터페이스)에 표시되지 않으며 통합에 사용할 수 없습니다.

- **배송 ID:** _WHSShipmentTable.ShipmentId_
- **상태:** _WHSShipmentTable.ShipmentStatus_
- **배송 통합 정책:** _WHSShipmentTable.ShipConsolidationPolicyName_
- **작업 트랜잭션 유형:** _WHSshipmentTable.WorkTransType_
- **웨이브 ID:** _WHSShipmentTable.WaveId_
- **적재 ID:** _WHSShipmentTable.LoadId_
- **배송 ID:** _WHSLoadLine.ShipmentId_
- **적재 ID:** _WHSLoadLine.LoadId_

기본적으로 정책을 만들 때 필수 필드 집합이 통합 필드로 사용됩니다. 그러나 왼쪽 화살표 및 오른쪽 화살표 버튼을 사용하여 목록을 수정할 수 있습니다. (과정은 웨이브 템플릿에서 방법을 선택하는 과정과 유사합니다.)

사용자가 이 필드에 대해 선택한 값은 새로 생성된 모든 배송에 사용되거나 해당 배송과 통합하는 동안 기존 배송에 추가됩니다. 2개의 발송물이 해당 발송물 통합을 위해 선택된 필드에 대해 동일한 값을 갖는 경우 발송물이 통합됩니다. 선택한 모든 후속 연결 필드에 동일한 원칙이 적용됩니다. 값이 다를 경우 두 번째 발송물은 폐기되고 새 발송물을 위해 선택됩니다. 자동화된 통합 프로세스는 배송 통합 필드에 대한 고유한 값 조합을 모두 생성한 다음 관련 조합에 배송을 지정하는 것으로 구성됩니다.

선택하지 않은 필드는 통합 프로세스 중에 무시됩니다. 두 배송의 선택되지 않은 필드 값이 다른 경우 필드가 지워집니다(즉, 공백으로 설정됨). 두 발송물의 선택되지 않은 필드 값이 같으면 필드가 채워집니다.

통합 필드 목록(즉, 값이 다른 경우 지워지는 필드)은 하드 코딩되어 있습니다. 목록에는 새 배송이 생성될 때 판매 주문 또는 이전 주문 라인에서 초기화되는 모든 필드가 포함됩니다. 즉, 판매 주문 또는 이전 주문 라인에서 필드가 초기화되지 않은 경우 기존 배송에 새 데이터가 추가될 때 필드가 무시됩니다.

### <a name="release-to-warehouse-page"></a>창고로 출고 페이지

- 하단 그리드의 새 필드에는 적용된 통합 정책이 표시됩니다.
- 새 버튼을 사용하여 통합 정책을 수동으로 선택 및/또는 무시할 수 있습니다.

### <a name="release-to-warehouse-command-on-the-load-planning-workbench-page"></a>적재 계획 워크벤치 페이지의 창고로 출고 명령

- 적용된 통합 정책을 사용하도록 논리가 조정되었습니다.
- 이제 배송은 단일 로드 내에서만 통합됩니다.

### <a name="consolidate-shipments-page"></a>배송 통합 페이지

- 유사한 배송(즉, 통합 후보)에 대한 검색이 배송 통합 정책에서 선택된 필드를 사용하도록 변경되었습니다.
- 다른 발송물에 다른 값이 있는 필드는 이제 공백으로 설정됩니다. (이전에는 선택한 "기본" 배송의 값이 사용되었습니다.)

### <a name="shipment-consolidation-workbench-page"></a>배송 통합 워크벤치 페이지

- 새로운 기능은 더 큰 규모로 수동 통합 프로세스를 복제합니다.
- 이제 **창고 관리** 모듈의 **충고로 출고** 메뉴에서 이 페이지를 열 수 있습니다.
- 알고리즘은 아직 배송되지 않은 기존 배송을 분석합니다. 그런 다음 통합 정책에서 선택한 필드를 기반으로 통합을 제안합니다.

## <a name="comparison-of-functionality"></a>기능 비교

다음 표에는 배송 통합 정책을 사용하지 않을 때와 사용할 때 배송 통합이 작동하는 방식이 요약되어 있습니다.

| 배송 통합 정책을 사용하지 않는 경우 | 배송 통합 정책을 사용하는 경우 |
|---|----|
| 해당 없음 | 통합을 위해 선택한 판매 또는 이전 배송은 생성 중인 배송과 동일한 통합 정책을 가지고 있거나 미결 배송에 지정되어야 합니다(**기존 배송과 통합** 옵션이 켜져 있는 경우). |
| *창고로 출고* 절차는 통합을 위한 발송물을 찾기 위해 기존 발송물 중에서 검색하지 않습니다. *창고로 출고* 절차의 현재 인스턴스에 의해 생성된 배송만 통합을 위한 배송을 찾는 데 사용됩니다. | **기존 배송과 통합** 옵션이 현재 사용 중인 통합 정책에 대해 켜져 있는 경우 *창고로 출고* 절차는 통합할 배송을 찾기 위해 동일한 통합 정책에 따라 생성된 기존 배송을 검색합니다. 따라서 두 개의 정책이 있는 경우 정책 2에 따라 생성되는 배송은 정책 1에 따라 생성된 배송과 통합되지 않습니다. |
| 해당 없음 | 통합 정책 필드 목록이 비어 있거나 정책을 찾을 수 없는 경우 각 판매 주문 또는 이전 주문 라인에 대해 새 배송이 생성됩니다. |
| 다음 통합 필드는 *이전 라인* 에 대해 배송을 통합하는 데 사용되는 고유한 값 조합을 정의합니다. (다른 모든 필드는 무시됩니다.)<ul><li>주문 번호(OrderNum)</li></ul> | 다음 통합 필드는 *이전 라인* 에 대해 배송을 통합하는 데 사용되는 고유한 값 조합을 정의합니다. (다른 모든 필드는 무시됩니다.)<ul><li>주문 번호(OrderNum)</li><li>배송 받는 사람(DeliveryName)</li><li>우편 주소(DeliveryPostalAddress)</li><li>ISO 국가 번호(CountryRegionISOCode)</li><li>주소(Address)</li><li>사이트(InventSiteId)</li><li>창고(InventLocationId)</li><li>배송 업체(CarrierCode)</li><li>운송 서비스(CarrierServiceCode)</li><li>배송 모드(ModeCode)</li><li>운송 그룹(CarrierGroupCode)</li><li>배송 약관(DlvTermId)</li></ul>이 필드는 새 배송이 생성될 때 사용 가능하고 초기화되는 유일한 필드입니다. |
| 다음 통합 필드는 *판매 라인* 에 대해 배송을 통합하는 데 사용되는 고유한 값 조합을 정의합니다. (다른 모든 필드는 무시됩니다.)<ul><li>주문 번호(OrderNum)</li><li>고객 참조(CustomerRef)</li><li>고객 요청(CustomerReq)</li><li>배송 약관(DlvTermId)</li></ul> | 다음 통합 필드는 *판매 라인* 에 대해 배송을 통합하는 데 사용되는 고유한 값 조합을 정의합니다. (다른 모든 필드는 무시됩니다.)<ul><li>주문 번호(OrderNum)</li><li>계정 번호(AccountNum)</li><li>배송 받는 사람(DeliveryName)</li><li>우편 주소(DeliveryPostalAddress)</li><li>ISO 국가 번호(CountryRegionISOCode)</li><li>주소(Address)</li><li>사이트(InventSiteId)</li><li>창고(InventLocationId)</li><li>배송 업체(CarrierCode)</li><li>운송 서비스(CarrierServiceCode)</li><li>배송 모드(ModeCode)</li><li>운송 그룹(CarrierGroupCode)</li><li>브로커 ID(BrokerCode)</li><li>방향(LoadDirection)</li><li>배송 약관(DlvTermId)</li><li>고객 참조(CustomerRef)</li><li>고객 요청(CustomerReq)</li></ul>이 필드는 새 배송이 생성될 때 사용 가능하고 초기화되는 유일한 필드입니다. |
| 해당 없음 | 다음 통합 필드는 *판매 라인* 에 대한 필수 항목이며 제거할 수 없습니다.<ul><li>계정 번호(AccountNum)</li><li>배송 받는 사람(DeliveryName)</li><li>우편 주소(DeliveryPostalAddress)</li><li>창고(InventLocationId)</li></ul>기본적으로 이러한 필드는 새 정책이 생성될 때 할당됩니다. 이들은 제거할 수 없습니다. |
| **적재 계획 워크벤치** 페이지의 *창고로 화물 출고* 절차는 자체 별도의 코드를 사용하여 배송 및 웨이브를 생성합니다. | 통합을 위해 평가해야 하는 필드를 결정하기 위해 배송 통합 정책이 적용됩니다. 배송은 단일 로드 내에서만 통합됩니다. |
| **모든 배송** 페이지에서 **배송 통합** 을 수동으로 선택한 다음 대상 "기본" 배송을 선택합니다. 필터는 여러 키 필드에 대해 일치하는 값이 있는 기존 발송물을 제안합니다. | **모든 배송** 페이지에서 **배송 통합** 을 수동으로 선택한 다음 대상 "기본" 배송을 선택합니다. 시스템은 관련 배송 통합 정책에 대해 구성된 여러 키 필드의 값을 일치시켜 다른 기존 배송을 제안합니다. |
| 단일 배송에 대해서만 **모든 배송** 페이지의 **배송 통합** 명령을 사용할 수 있습니다. | **배송 통합 워크벤치** 페이지는 아직 배송된 상태가 아닌 배송 세트를 찾는 데 도움이 됩니다. 이러한 배송은 배송 통합 정책에 구성된 여러 주요 필드를 기반으로 분석됩니다. 이러한 필드의 값이 일치하는 모든 발송물은 통합을 위해 제안됩니다.<p>제안된 통합에서 선적을 제거하거나 선적을 추가하여 통합을 수동으로 유지할 수 있습니다. 여러 유형의 오류가 발생할 수 있지만 그 중 일부를 무시할 수 있습니다.</p> |
| **디자인 노트:** *판매 주문을 창고로 자동 출고* 절차는 판매 라인을 그룹으로 분할합니다. 각 그룹에는 고유의 **ReleaseToWarehouseId** 값이 있으며 *창고로 출고* 절차에 따라 별도로 처리됩니다. 이 절차는 작업 휴식 설정에 관계없이 새 작업을 생성합니다. | **디자인 노트:** *판매 주문을 창고로 자동 출고* 절차는 동일한 **ReleaseToWarehouseId** 값을 처리 중인 모든 판매 라인에 할당합니다. 모든 판매 라인은 *창고로 출고* 절차에 따라 동시에 처리됩니다. 이전 동작을 보장하려면 배송 ID별로 작업 휴식 시간을 구성해야 합니다. |

## <a name="additional-resources"></a>추가 리소스

- [배송 통합 정책 구성](configure-shipment-consolidation-policies.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]