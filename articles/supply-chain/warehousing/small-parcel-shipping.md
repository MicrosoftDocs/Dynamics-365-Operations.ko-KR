---
title: 소포 배송
description: 이 토픽에서는 SPS(소포 배송) 기능에 대한 정보를 제공합니다. 이 기능을 사용하면 Microsoft Dynamics 365 Supply Chain Management에서 포장된 컨테이너에 대한 세부 정보를 운송업체에 제출한 다음 해당 운송업체로부터 배송 레이블, 배송료 및 추적 번호를 다시 받을 수 있습니다.
author: Mirzaab
ms.date: 01/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: TMSRateEngine, TMSCarrier, CustTable, TMSShippingCarrierCustomerAccount, TMSSmallParcelShippingFeature
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-01-08
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: cb5a4195d94750fcbee00e7301bd250f653cb347
ms.sourcegitcommit: 3b87f042a7e97f72b5aa73bef186c5426b937fec
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/29/2021
ms.locfileid: "8448873"
---
# <a name="small-parcel-shipping"></a>소포 배송

[!include [banner](../../includes/banner.md)]

SPS(소포 배송) 기능을 사용하면 Microsoft Dynamics 365 Supply Chain Management가 운송업체 API를 통한 통신 프레임워크를 제공하여 운송업체와 직접 상호 작용할 수 있습니다. 이 기능은 컨테이너 운송 또는 LTL(적하 화물) 운송을 사용하는 대신 상업용 운송 회사를 통해 개별 판매 주문을 운송할 때 유용합니다.

SPS 기능은 전용 *요금 엔진* 을 통해 운송업체와 상호 작용합니다. 조직은 운송업체 또는 운송업체 허브 서비스와 협력하여 이 요금 엔진을 개발해야 합니다. 요금 엔진을 사용하면 Supply Chain Management에서 포장된 컨테이너에 대한 세부 정보를 운송업체에 제출한 다음 해당 운송업체로부터 배송 레이블, 배송 요금 및 추적 번호를 다시 받을 수 있습니다.

반환된 배송료는 관련 판매 주문에 기타 비용으로 추가됩니다. 그러면 반환된 배송 레이블을 ZPL(Zebra 프로그래밍 언어) 프린터를 사용하여 자동으로 인쇄하고 배송에 적용할 수 있습니다. 운송업체는 귀하의 창고에서 패키지를 픽업할 때 이 배송 레이블을 스캔합니다.

## <a name="prepare-your-system-to-support-sps"></a>SPS를 지원하도록 시스템 준비

SPS 기능을 사용하려면 먼저 기능 관리에서 SPS 기능을 켜고 요금 엔진을 추가하고 이를 지원하도록 **운송 관리** 및 **창고 관리** 모듈을 설정해야 합니다.

### <a name="turn-on-the-sps-feature"></a>SPS 기능 켜기

이 SPS 기능을 사용하려면 먼저 시스템에서 켜져 있어야 합니다. 관리자는 [기능 관리](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) 작업 영역을 사용하여 기능의 상태를 확인하고 필요한 경우 켤 수 있습니다. 거기에서 기능은 다음과 같은 방식으로 나열됩니다.

- **모듈:** *운송 관리*
- **기능 이름:** *소포 배송*

### <a name="deploy-and-set-up-rate-engines"></a>요금 엔진 배포 및 설정

Supply Chain Management에는 요금 엔진이 포함되어 있지 않습니다. 필요한 요금 엔진을 얻거나 생성한 다음 시스템에 추가해야 합니다. 그러나 Microsoft는 테스트에 사용할 수 있는 데모 요금 엔진을 제공합니다.

#### <a name="download-and-deploy-the-demo-rate-engine"></a>데모 요금 엔진 다운로드 및 배포

데모 요금 엔진을 얻으려면 다음 단계를 따르세요.

1. GitHub에서 [데모 요금 엔진용 DLL(동적 연결 라이브러리)](https://github.com/microsoft/Dynamics-365-FastTrack-Implementation-Assets/tree/master/SCM/SPS)을 다운로드합니다.
1. Supply Chain Management 서버에서 **\\AOSService\\PackagesLocalDirectory\\ApplicationSuite\\bin** 폴더에 DLL을 저장합니다.

#### <a name="create-and-deploy-functional-rate-engines"></a>기능적 요금 엔진 생성 및 배포

프로덕션 또는 테스트 환경에서 사용할 수 있도록 기능 요금 엔진을 만들고 배포하는 방법에 대한 정보는 다음 주제를 참조하세요.

- [새로운 운송 관리 엔진 생성](../transportation/create-new-transportation-management-engine.md)
- [운송 관리 엔진 설정](/dynamicsax-2012/appuser-itpro/set-up-transportation-management-engines)

SPS 요금 엔진을 만드는 방법에 대한 자세한 내용은 [소포 배송: Microsoft Dynamics 365에서 소포 배송 기능을 활용하는 방법](https://hub.bhsolutions.com/creating-a-mock-parcel-engine-in-d365?submissionGuid=46a1fccf-80b0-4b70-a6a0-4bf45a8756b5) 블로그 게시물을 참조하세요.

#### <a name="set-up-a-rate-engine-in-supply-chain-management"></a>Supply Chain Management에서 요금 엔진 설정

SPS용 요금 엔진을 만들고 배포한 후 다음 단계에 따라 설정합니다.

1. **운송 관리 \> 설정 \> 엔진 \> 요금 엔진** 으로 이동합니다.
1. 작업 창에서 **새로 만들기** 를 선택하여 그리드에 행을 추가합니다.
1. 신규 행에서 다음 필드를 설정합니다.

    - **요금 책정 엔진** – 요금 엔진의 고유한 이름을 입력합니다. 데모 요금 엔진을 사용하는 경우 *데모 요금 엔진* 을 입력합니다.
    - **이름** – 요금 엔진에 대한 간단한 설명을 입력합니다. 데모 요금 엔진을 사용하는 경우 *데모 요금 엔진* 을 입력합니다.
    - **요금 책정 메타데이터 ID** – 요금을 계산하는 데 사용할 기준을 선택합니다. 예를 들어, 요금은 거리를 기반으로 계산될 수 있습니다. 데모 요금 엔진을 사용하는 경우 이 필드를 비워 둘 수 있습니다.
    - **엔진 어셈블리** – 배포한 DLL 패키지의 파일 이름을 입력합니다. 데모 요금 엔진을 사용하는 경우 *TMSSmallParcelShippingEngine.dll* 을 입력합니다.
    - **엔진 클래스** – 요금 엔진에 대해 설정된 클래스 이름을 입력합니다. 데모 요금 엔진을 사용하는 경우 *TMSSmallParcelShippingEngine.SmallParcelShippingRateEngine* 을 입력합니다.

## <a name="example-scenario"></a>예시 시나리오

이 예제 시나리오는 이 토픽의 앞부분에서 설명한 대로 시스템을 준비한 후 SPS를 설정하고 사용하는 방법을 보여줍니다. 이 시나리오는 앞서 언급한 데모 요금 엔진을 사용합니다.

### <a name="make-demo-data-available"></a>데모 데이터 사용 가능

여기에 지정된 데모 레코드 및 값을 사용하여 이 시나리오를 진행하려면 표준 [데모 데이터](../../fin-ops-core/dev-itpro/deployment/deploy-demo-environment.md)가 설치된 시스템에 있어야 합니다. 또한 시작하기 전에 **USMF** 법인을 선택해야 합니다.

### <a name="set-up-the-scenario"></a>시나리오 설정

이 예제 시나리오의 경우 데모 운송업체, 운송업체 그룹, 포장 정책 및 포장 프로필이 있어야 합니다. 다음 하위 섹션에서는 시나리오에 필요한 레코드를 준비하는 방법을 설명합니다. 프로덕션 시나리오에서 설정 프로세스는 일반적으로 여기에 설명된 프로세스와 유사합니다. 그러나 다른 값을 설정합니다.

#### <a name="set-up-carriers"></a>운송업체 설정

운송업체를 설정하려면 다음 단계를 따르세요.

1. **운송 관리 \> 설정 \> 운송업체 \> 운송업체** 로 이동합니다.
1. 작업 창에서 **새로 만들기** 를 선택하여 운송업체를 추가합니다.
1. 헤더에서 다음 값을 설정합니다.

    - **운송업체:** *데모 운송업체*
    - **이름:** *데모 운송업체*
    - **모드:** *지상*

1. **개요** 빠른 탭에서 다음 값을 설정합니다.

    - **활성 운송업체:** *예*
    - **활성 운송업체 등급:** *예*

1. **서비스** 빠른 탭에서 **새로 만들기** 를 선택하여 그리드에 서비스를 추가합니다.
1. 새 서비스에 대해 다음 값을 설정합니다.

    - **운송업체 서비스:** *데모 운송업체 서비스*
    - **이름:** *데모 운송업체 서비스*
    - **운송 방법:** *지상*

    필요에 따라 다른 모든 필드에 임의의 값을 입력합니다. (새 운송업체 기록을 저장하면 새로운 배송 모드가 생성되고 **배송 모드** 필드가 자동으로 설정됩니다.)

1. **등급 프로필** 빠른 탭에서 **새로 만들기** 를 선택하여 그리드에 등급 프로필을 추가합니다.
1. 새 프로필에 대해 다음 값을 설정합니다.

    - **등급 프로필:** *데모 운송업체 서비스*
    - **이름:** *데모 운송업체 서비스*
    - **요금 엔진:** *데모 요금 엔진*

    필요에 따라 다른 모든 필드에 임의의 값을 입력합니다.

1. 작업 창에서 **저장** 을 선택합니다.

운송업체 설정 방법에 대한 자세한 내용은 [운송업체 설정](../transportation/tasks/set-up-shipping-carriers.md)을 참조하세요.

#### <a name="set-up-carrier-service-accounts"></a>운송업체 서비스 계정 설정

운송업체 서비스 계정을 설정하려면 다음 단계를 따르세요.

1. **운송 관리 \> 설정 \> 등급 \> 운송업체 서비스 계정** 으로 이동합니다.
1. 작업 창에서 **새로 만들기** 를 선택하여 운송업체 서비스 계정을 추가합니다.
1. 새 계정에 대해 다음 값을 설정합니다.

    - **운송업체:** *데모 운송업체*
    - **운송업체 서비스:** *데모 운송업체 서비스*
    - **운송업체 고객 계정 번호:** 운송업체에 대한 연결을 확인하고 인증하는 데 사용되는 운송업체 고객 계정 번호입니다. 운송업체에서 이 값을 제공합니다. 데모 서비스를 사용하는 경우 임의의 값을 입력할 수 있습니다.
    - **사이트:** *6*
    - **창고:** *62*

    > [!NOTE]
    > 종종 **운송업체 고객 계정 번호** 값은 연결을 인증하는 데 필요한 유일한 값입니다. 그러나 운송업체에서 추가 인증 매개 변수가 필요한 경우 조직에서 이 페이지를 사용자 지정하여 적절하게 추가 필드를 추가해야 합니다.

#### <a name="set-up-a-container-packing-policy"></a>컨테이너 포장 정책 설정

다음 단계에 따라 컨테이너 포장 정책을 설정합니다.

1. ZPL 프린터 정의를 아직 설정하지 않은 경우 Document Routing Agent 애플리케이션을 사용하여 설정하세요. 자세한 내용은 [문서 인쇄 개요](../../fin-ops-core/dev-itpro/analytics/print-documents.md) 및 관련 항목을 참조하세요.
1. **Warehouse Management \> 설정 \> 컨테이너 \> 컨테이너 포장 정책** 으로 이동합니다.
1. 작업 창에서 **새로 만들기** 를 선택하여 컨테이너 포장 정책을 추가합니다.
1. 새 정책의 헤더에서 다음 값을 설정합니다.

    - **컨테이너 포장 정책:** *데모 포장 정책*
    - **설명:** 정책에 대한 설명

1. **개요** 빠른 탭에서 다음 값을 설정합니다.

    - **창고:** *62*
    - **최종 배송을 위한 기본 위치:** *Baydoor*
    - **중량 단위:** *KG*
    - **컨테이너 폐쇄 정책:** *자동 릴리스*
    - **컨테이너 릴리스 정책:** *최종 배송 위치에서 사용할 수 있도록 설정*

1. **컨테이너 매니페스트** 빠른 탭에서 다음 값을 설정합니다.

    - **컨테이너 닫기 시 자동 매니페스트:** *예*
    - **컨테이너에 대한 매니페스트 요구 사항:** *운송 관리*
    - **컨테이너 내용물 인쇄:** *아니요*

1. **운송업체 레이블 인쇄** 빠른 탭에서 다음 값을 설정합니다.

    - **컨테이너 배송 레이블 인쇄:** *항상*
    - **프린터 이름:** 배송 레이블을 인쇄해야 하는 ZPL 프린터의 이름

#### <a name="set-up-a-packing-profile"></a>포장 프로필 설정

패킹 프로필을 설정하려면 다음 단계를 따르세요.

1. **Warehouse Management \> 설정 \> 포장 \> 포장 프로필** 로 이동합니다.
1. 작업 창에서 **새로 만들기** 를 선택하여 그리드에 포장 프로필을 추가합니다.
1. 새 프로필에 대해 다음 값을 설정합니다.

    - **포장 프로필 ID:** *데모 포장 프로필*
    - **설명:** 프로필에 대한 설명
    - **컨테이너 포장 정책:** *데모 포장 정책*
    - **컨테이너 ID 모드:** *자동*
    - **컨테이너 유형:** *SmallBox*

#### <a name="set-up-a-customer-to-use-the-sps-carrier"></a>SPS 운송업체를 사용하도록 고객 설정

다음 단계에 따라 고객이 생성한 운송업체를 사용할 수 있도록 설정합니다.

1. **수취 계정 \> 고객 \> 모든 고객** 으로 이동합니다.
1. 그리드에서 고객 *US-027* 을 찾아 선택합니다.
1. 작업 창의 **일반** 탭에 있는 **설정** 그룹에서 **운송업체 고객 계정** 을 선택합니다.
1. **운송업체 고객 계정** 페이지의 작업 창에서 **새로 만들기** 를 선택하여 그리드에 계정을 추가합니다.
1. 새 계정에 대해 다음 값을 설정합니다.

    - **운송업체:** *데모 운송업체*
    - **운송업체 고객 계정 번호:** *12345*(이 시나리오에서는 값이 중요하지 않지만 다음 섹션에서 참조할 예정입니다.)

### <a name="go-through-the-example-scenario"></a>예제 시나리오 살펴보기

이전 섹션에서 설명한 대로 모든 샘플 데이터를 설정했으면 예제 시나리오를 진행할 준비가 된 것입니다.

#### <a name="create-a-sales-order-and-process-the-work"></a>판매 주문 생성 및 작업 처리

판매 주문을 생성하려면 다음 단계를 따르세요.

1. **영업 및 마케팅 \> 판매 주문 \> 모든 판매 주문** 으로 이동합니다.
1. **새로 만들기** 를 선택하여 판매 주문을 생성합니다.
1. **판매 주문 생성** 대화 상자의 **고객 계정** 필드에서 *US-027* 을 설정합니다.
1. **확인** 을 선택하여 판매 주문을 생성하고 대화 상자를 닫습니다.
1. 새 판매 주문이 열립니다. **판매 주문 헤더** 빠른 탭에서 **운송업체 고객 계정 번호** 필드를 이전에 이 고객에 대해 선택한 값(*12345*)으로 설정합니다.
1. **판매 주문 라인** 섹션에서 판매 라인을 추가하고 다음 값을 설정합니다.

    - **품목 번호:** *A0002*
    - **수량:** *1*
    - **사이트:** *6*
    - **창고:** *62*

1. **헤더** 보기로 전환합니다.
1. **배송** 빠른 탭에서 다음 값을 설정합니다.

    - **운송업체:** *데모 운송업체*
    - **운송업체 서비스:** *데모 운송업체 서비스*

1. **라인** 보기로 다시 전환합니다. 판매 라인에 대한 배송 모드를 업데이트하라는 메시지가 표시되면 **예** 를 선택합니다.
1. **판매 주문 라인** 섹션에서 이전에 설정한 주문 라인을 선택한 다음 **재고 \> 예약** 을 선택합니다.
1. **예약** 페이지에서 **로트 예약** 을 선택하여 창고에서 선택한 라인의 전체 수량을 예약합니다.
1. **예약** 페이지를 닫고 판매 주문으로 돌아갑니다.
1. 작업 창의 **창고** 탭에서 **창고로 릴리스** 를 선택합니다.

    피킹 위치에서 포장 스테이션으로 항목을 이동하는 작업이 생성됩니다.

1. **판매 주문 라인** 섹션에서 **창고 \> 배송 세부 정보** 를 선택합니다.
1. **배송 세부 정보** 페이지에서 배송 ID를 기록해 두세요. 포장 스테이션에서 화물을 포장할 때 필요합니다.
1. **배송 세부 정보** 페이지를 닫고 판매 주문으로 돌아갑니다.
1. 판매 주문 번호를 메모한 후 **창고 관리 \> 작업 \> 모든 작업** 으로 이동합니다.
1. 판매 주문 번호를 사용하여 주문에 대해 생성된 작업을 찾고 선택합니다.
1. 작업 창의 **작업** 탭에서 **작업 완료** 를 선택합니다.
1. **작업 완료** 페이지의 **사용자 ID** 필드에서 사용자 ID를 선택하세요. 그런 다음 작업 창에서 **작업 확인** 을 선택합니다.
1. 작업이 유효성 검사를 통과하면 작업 창에서 **작업 완료** 를 선택합니다.

    이 작업은 포장 스테이션으로의 품목 이동을 시뮬레이션하기 위해 완료된 것으로 표시됩니다.

#### <a name="pack-the-shipment"></a>배송 포장

배송을 포장하려면 다음 단계를 따르세요.

1. **창고 관리 \> 설정 \> 작업자** 로 이동하여 사용자 계정이 창고 관리를 위한 작업자 계정과 연결되어 있는지 확인합니다.
1. **창고 관리 \> 픽업 및 컨테이너화 \> 포장** 으로 이동합니다.
1. **포장 스테이션 선택** 대화 상자에서 다음 값을 설정합니다.

    - **사이트:** *6*
    - **창고:** *62*
    - **위치:** *포장*
    - **포장 프로필 ID:** *데모 포장 프로필*

1. **확인** 을 선택합니다.
1. **포장** 페이지가 나타납니다. 생산 시나리오에서 작업자는 번호판 또는 배송 ID를 스캔합니다. 그러나 이 시나리오의 경우 **모든 배송** 페이지를 열고 방금 생성한 배송의 배송 번호를 찾습니다. 그런 다음 **포장** 페이지의 **번호판 또는 배송** 필드에 이 값을 입력합니다. 또는 이전에 기록해 둔 배송 ID를 입력합니다.
1. 작업 창에서 **새 컨테이너** 를 선택합니다.
1. 표시되는 대화 상자에는 새 컨테이너에 대한 세부 정보가 표시됩니다. 기본값을 그대로 두고 **확인** 을 선택합니다.
1. **포장** 페이지의 **항목 포장** 빠른 탭에 있는 **식별자** 필드에서 *A0002* 를 선택하여 해당 항목을 포장합니다. 항목이 컨테이너에 추가됩니다.
1. 작업 창에서 **배송할 컨테이너** 를 선택합니다.

    표시되는 **배송할 컨테이너** 페이지에는 방금 생성한 컨테이너에 대한 행이 있습니다. 그러나 해당 행의 **컨테이너 매니페스트 ID** 필드는 현재 운송업체로부터 배송 레이블과 추적 번호를 받지 않았기 때문에 비어 있습니다.

1. 작업 창에서 **컨테이너 폐쇄** 를 선택합니다.
1. **컨테이너 닫기** 대화 상자에서 **총 중량** 필드를 *1kg* 으로 설정한 다음 **확인** 을 선택합니다.

    이제 이전에 선택한 ZPL 프린터에서 배송 레이블을 인쇄해야 합니다. 다음 예제와 유사해야 합니다.

    ![배송 레이블 예시.](media/sps-label-example.png "배송 레이블 예시")

1. **컨테이너 매니페스트 ID** 및 **총 운임** 값이 운송업체로부터 받은 대로 추가되었습니다.


[!INCLUDE[footer-include](../../includes/footer-banner.md)]