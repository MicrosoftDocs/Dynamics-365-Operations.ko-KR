---
title: cXML 개선 사항 구매
description: cXML 개선 사항 구매는 구매 요청에 사용되는 기존 외부 카탈로그 기능인 PunchOut을 기반으로 합니다.
author: Henrikan
ms.date: 08/03/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: CatCXMLParameters, CatCXMLPurchRequest
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: henrikan
ms.search.validFrom: 2020-08-03
ms.dyn365.ops.version: 10.0.13
ms.openlocfilehash: 2942b141eb3a5b83fb39b0de721bae60c074e01c
ms.sourcegitcommit: f5885999e008a49fe072d95f15e239905c24918a
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/08/2021
ms.locfileid: "8449512"
---
# <a name="purchasing-cxml-enhancements"></a>cXML 개선 사항 구매

[!include [banner](../includes/banner.md)]

_cXML 개선 사항 구매_ 는 구매 요청에 사용되는 [기존 외부 카탈로그 기능](set-up-external-catalog-for-punchout.md)을 기반으로 합니다. 이 기존 기능을 _PunchOut_ 이라고 합니다. 구매 주문이 구매 요청에서 시작될 필요는 없지만 구매 주문의 공급업체와 구매 주문 문서를 보내는 데 사용되는 매개변수 간에 연결이 있어야 합니다.

## <a name="turn-on-the-purchasing-cxml-enhancements-feature"></a>cXML 개선 사항 구매 켜기

기능을 켜려면 **[기능 관리](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)** 페이지를 열고 *cXML 개선 사항 구매* 라는 기능을 검색합니다. 기능을 선택한 다음 **지금 활성화** 를 선택하여 켭니다. (Supply Chain Management 버전 10.0.21부터 이 기능은 기본적으로 켜져 있습니다.)

기능을 켠 후 다음 세 영역에서 설정을 구성해야 합니다.

- **[cXML 매개변수](#cxml-parameters)** – 이 설정을 사용하여 구매 주문 전송 기능에 대한 일부 전역 매개변수를 설정합니다.
- **[공급업체 설정](#vendor-setup)** – 공급업체에 대해 생성된 모든 신규 구매 주문에 대해 기본적으로 Commerce eXtensible Markup Language(cXML)를 사용해야 하는 경우 해당 공급업체에 대해 **cXML을 통해 구매 주문 보내기** 옵션을 _예_ 로 설정합니다.
- **[외부 카탈로그](#external-catalog-setup)** – 새로운 **주문 속성** 설정을 사용하여 구매 주문 문서의 형식 및 전송 방법을 정의합니다.

다음 그림은 이 구성을 요약한 것입니다.

![cXML 기능을 설정하기 위한 영역입니다.](media/cxml-settings-areas.png "cXML 기능을 설정하기 위한 영역")

또한 [구매 주문 요청 일괄 작업](#po-batch)을 설정해야 합니다. 이 일괄 작업은 확인된 구매 주문을 보내는 데 사용됩니다.

## <a name="set-up-global-cxml-parameters"></a><a name="cxml-parameters"></a>글로벌 cXML 매개 변수 설정

**cXML 매개 변수** 페이지를 사용하여 구매 주문 전송 기능에 적용되는 몇 가지 전역 설정을 지정합니다.

![cXML 매개 변수 페이지.](media/cxml-parameters.png "cXML 매개 변수 페이지")

**조달 및 소싱 \> 설정 \> cXML 관리 \> cXML 매개변수** 로 이동하여 다음 매개변수를 설정합니다.

- **cXML 테스트 모드** – 이 전역 매개 변수는 구매 주문이 일괄 작업에서 물리적으로 전송되는 방식에 영향을 줍니다. 다음 값 중 하나를 선택합니다.

    - **테스트** – 이 모드에서는 일괄 작업이 실행될 수 있으며 메시지에 대한 XML 문서가 생성되지만 전송되지 않습니다. 대신 검토 목적으로 구매 주문 요청에 저장됩니다. 이 모드는 초기 구현에 있고 cXML 메시지에 데이터가 입력되는 방식을 확인하려는 경우에 유용합니다. 초기 유효성 검사를 위해 공급업체에 보낼 수 있는 샘플 메시지를 생성할 수도 있습니다.
    - **라이브** – 이 모드에서 기능은 [외부 카탈로그 설정](#external-catalog-setup)을 사용하여 각 문서를 공급업체에 물리적으로 전송합니다.

- **구매 요청 업데이트 보내기** – 구매 주문에 대한 업데이트 메시지를 보내려면 이 옵션을 *예* 로 설정하세요. 메시지가 전송되지 않도록 하려면 *아니요* 로 설정합니다. 대부분의 공급업체는 업데이트 메시지를 수신하지 않는 것을 선호합니다. 대신 구매 주문을 변경해야 하는 경우 고객이 전화나 이메일로 연락하도록 요구합니다. 이 매개변수는 전역 매개변수이며 각 공급업체의 외부 카탈로그에 재정의를 지정할 수 없습니다. 구매 주문에 두 번째 확인을 게시하면 구매 주문이 업데이트된 것으로 표시되지만 첫 번째 확인은 이미 공급업체에서 전송 및 승인된 상태입니다. 두 번째 확인이 있지만 첫 번째 확인이 전송되지 않은 경우 두 번째 확인은 새 문서로 처리됩니다. 하나의 확인이 전송될 때까지 원하는 만큼 구매 주문을 확인할 수 있습니다. 다음 확인은 업데이트 메시지로 처리됩니다.
- **구매 요청 삭제 보내기** – 구매 주문에 대한 삭제 메시지를 보내려면 이 옵션을 *예* 로 설정하세요. 메시지가 전송되지 않도록 하려면 *아니요* 로 설정합니다. 대부분의 공급업체는 삭제 메시지를 수신하지 않는 것을 선호합니다. 대신 구매 주문서가 실수로 전송된 경우 고객이 전화나 이메일로 연락하도록 요구합니다. 이 매개변수는 전역 매개변수이며 각 공급업체의 외부 카탈로그에 재정의를 지정할 수 없습니다. Supply Chain Management에서 구매 주문을 취소하면 구매 주문이 삭제된 것으로 표시됩니다.
- **보관 파일** – 보관된 cXML 문서를 내보내고 저장할 파일 경로를 지정하세요. 경로는 **구매 주문 요청** 페이지에서 제거 기능을 실행할 때 사용됩니다.
- **주소란의 최대 문자 수** – cXML 문서에서 주소의 주소 필드에 사용할 수 있는 최대 문자 수를 입력합니다. 이 전역 매개 변수는 외부 카탈로그 속성에 재정의가 지정되지 않는 한 모든 공급업체에 영향을 줍니다.

## <a name="set-up-vendor-purchase-orders-to-use-cxml"></a><a name="vendor-setup"></a>cXML을 사용하도록 공급업체 구매 주문 설정

**CXML을 통해 구매 주문 보내기** 옵션이 _예_ 로 설정된 구매 주문을 확인할 때마다 시스템은 자동으로 cXML 메시지를 생성하여 해당 구매 주문과 연결된 공급업체에 전달합니다. 구매 주문에 대해 이 옵션을 제어하는 두 가지 방법이 있습니다.

- 요청에서 생성된 모든 신규 구매 주문에 대해 자동으로 cXML을 사용하도록 공급업체를 설정하려면 **조달 및 소싱 \> 공급업체 \> 모든 공급업체** 로 이동하고 공급업체를 선택하거나 생성하여 세부 정보 페이지를 엽니다. 그런 다음 **구매 주문 기본값** 빠른 탭에서 **cXML을 통해 구매 주문 보내기** 옵션을 _예_ 로 설정합니다. 요청에서 생성되지 **않은** 새 구매 주문에도 cXML을 자동으로 사용해야 하는 경우 이 항목의 뒷부분에 나오는 [주문 속성 설정](#set-order-properties) 섹션에 설명된 대로 관련 외부 카탈로그에 대해 **ENABLEMANUALPO** 주문 속성도 _True_ 로 설정해야 합니다.
- 개별 구매 주문의 경우 **조달 및 소싱 \> 구매 주문 \> 모든 구매 주문** 으로 이동하고 구매 주문을 선택하거나 생성하여 세부 정보 페이지를 엽니다. **헤더** 보기로 전환한 다음 **설정** 빠른 탭에서 필요에 따라 **cXML을 통해 구매 주문 보내기** 옵션을 설정합니다.

![공급업체 구매 주문에 대한 기본 설정입니다.](media/cxml-order-defaults.png "공급업체 구매 주문에 대한 기본 설정")

## <a name="set-up-an-external-catalog-to-use-cxml"></a><a name="external-catalog-setup"></a>cXM을 사용하도록 외부 카탈로그 설정

**외부 카탈로그** 페이지에서 각 카탈로그에 대해 PunchOut 기능 및 구매 주문 전송 기능을 설정할 수 있습니다. 관련 설정을 찾으려면 **조달 및 소싱 \> 카탈로그 \> 외부 카탈로그** 로 이동하세요. [각 카탈로그를 평소와 같이 설정](set-up-external-catalog-for-punchout.md)하여 시작합니다. 이 프로세스에는 공급업체 지정, 공급업체가 제공할 수 있는 범주 선택 및 카탈로그 활성화가 포함됩니다. 그런 다음 이 섹션에 설명된 추가 설정을 구성합니다.

> [!NOTE]
> cXML을 통해 보낼 수 있는 구매 주문을 확인하면 시스템은 구매 주문과 연결된 공급업체를 찾은 다음 해당 공급업체와 연결된 첫 번째 활성 외부 카탈로그를 찾습니다. 그런 다음 시스템은 해당 외부 카탈로그의 설정을 사용하여 구매 주문을 보냅니다. 여러 외부 카탈로그가 설정된 경우 시스템은 구매 주문의 공급업체를 기반으로 찾은 첫 번째 외부 카탈로그만 사용합니다. 따라서 각 공급업체에 대해 하나의 외부 카탈로그만 만드는 것이 좋습니다.

![외부 카탈로그 설정.](media/cxml-supplier-catalog.png "외부 카탈로그 설정")

### <a name="set-the-punchout-protocol-type"></a>펀치아웃 프로토콜 유형 설정

**외부 카탈로그** 페이지의 **일반** 빠른 탭에서 **Punchout 프로토콜 유형** 필드를 _cXML_ 로 설정합니다. 파트너가 기능을 확장하고 확장에 추가 옵션을 제공하지 않는 한 이 옵션은 유일하게 사용 가능한 옵션입니다.

또한 PunchOut에 대한 카탈로그를 사용하는 경우 [메시지 형식 설정](set-up-external-catalog-for-punchout.md) 또한 해야 합니다. 메시지 형식은 요청에서 PunchOut 트랜잭션의 공급업체에 대한 연결을 설정하는 데 사용됩니다. 구매 주문이 전송되면 주문 속성이 공급업체와의 연결을 설정하는 데 사용됩니다.

### <a name="set-the-order-properties"></a><a name="set-order-properties"></a>주문 속성 설정

_cXML 개선 사항 구매_ 기능은 외부 카탈로그에 대한 새로운 **주문 속성** 빠른 탭을 추가합니다. 이 빠른 탭은 주문 속성을 정의할 수 있는 그리드를 제공합니다. 도구 모음도 제공합니다. 이 도구 모음에는 주문 속성을 관리하는 데 사용할 수 있는 다음 세 가지 버튼이 있습니다.

- **기본 속성** – 새 카탈로그를 설정할 때 일반적으로 사용되는 속성의 미리 정의된 컬렉션을 그리드에 추가하려면 이 버튼을 선택합니다.
- **신규** – 그리드에 새 속성을 추가합니다.
- **삭제** – 그리드에서 현재 선택된 속성을 삭제합니다. 실수로 기본 속성을 삭제한 경우 **기본 속성** 을 선택하여 누락된 속성을 모두 복원합니다.

그리드에 하나 이상의 속성을 추가할 때마다 오른쪽 열을 사용하여 각각에 대한 값을 지정하세요.

다음과 같은 방법으로 기본 속성을 사용합니다.

- **BUYER\_COOKIE** – 이 추적 필드는 회사에 대한 특정 정보를 나타내는 데 사용할 수 있습니다. 이 속성이 어떻게 사용되는지에 대해 공급업체와 합의하지 않는 한 구매 주문을 보낼 때 별 의미가 없습니다. 따라서 단순 값으로 설정해야 합니다.
- **DELIVERTO** – 배송 주소가 구매 주문의 문서에 입력되면 **주의사항** 필드는 XML 메시지의 **DeliverTo** 필드를 설정하는 데 사용됩니다. 이 값이 요청자 이름이어야 하고 구매 주문 헤더에 요청자 필드를 설정하려면 이 속성에 대해 _REQUESTER_ 값을 입력하여 요청자 이름이 XML의 **DeliverTo** 필드에 입력되도록 하세요. 이 경우 사용되는 기본 이메일 주소 및 전화번호는 주문자가 아닌 요청자의 것입니다.
- **DEPLOYMENTMODE** – 공급업체의 요구에 따라 이 속성을 설정합니다. 값은 일반적으로 _생산_ 또는 _테스트_ 입니다. 공급업체와의 커뮤니케이션을 기반으로 값을 설정합니다. 일반적으로 공급업체가 테스트 또는 프로덕션 시스템으로 나타내는 **ORDERCHECKURL** 값 뒤에 있는 의도된 시스템과 일치해야 합니다.
- **FIXEDBILLADDRESSID** - XML 메시지의 **addressID** 필드가 설정되면 주소에 지정된 위치를 선택합니다. 어떤 이유로 공급업체에 전달한 ID 값이 주소 위치의 값과 다른 경우 여기에 값을 지정하여 강제로 재정의할 수 있습니다. 공급업체에 대해 하나의 주소만 사용하고 주소가 공급업체 시스템에 설정되어 있다고 가정합니다. 청구 주소는 Supply Chain Management의 법인에 대해 지정된 기본 송장 주소입니다.
- **FIXEDSHIPADDRESSID** - XML 메시지의 **addressID** 필드가 설정되면 주소에 지정된 위치를 선택합니다. 어떤 이유로 공급업체에 전달한 ID 값이 주소 위치의 값과 다른 경우 여기에 값을 지정하여 강제로 재정의할 수 있습니다. 공급업체에 대해 하나의 주소만 사용하고 주소가 공급업체 시스템에 설정되어 있다고 가정합니다. 배송 주소는 구매 주문의 헤더에 지정된 주소입니다. 대부분의 공급업체는 라인 주소가 아닌 헤더 주소만 허용합니다. XML에 라인 주소에 대한 필드가 있지만 헤더 주소로 설정됩니다.
- **FROM\_DOMAIN** – 구매 주문 문서를 보내는 데 사용되는 값을 입력합니다. 이 값은 공급업체에서 제공합니다.
- **FROM\_IDENTITY** – 구매 주문 문서를 보내는 데 사용되는 값을 입력합니다. 이 값은 공급업체에서 제공합니다.
- **ORDERCHECKURL** – 구매 주문 문서를 전송할 URL을 입력합니다. 이 URL은 `https://`로 시작하며 공급업체에서 제공합니다.
- **PAYLOAD\_ID** – 현재 공급업체에 적용되는 비즈니스 프로세스에 필요한 대로 페이로드 ID의 접두사 값을 입력합니다.
- **SENDER\_DOMAIN** – 구매 주문 문서를 보내는 데 사용되는 값을 입력합니다. 이 값은 공급업체에서 제공합니다.
- **SENDER\_IDENTITY** – 구매 주문 문서를 보내는 데 사용되는 값을 입력합니다. 이 값은 공급업체에서 제공합니다.
- **SHARED\_SECRET** – 구매 주문 문서를 보내는 데 사용되는 값을 입력합니다. 이 값은 공급업체에서 제공합니다.
- **STREETLENGTH** – 공급업체가 거리 이름으로 허용할 최대 문자 수를 나타내는 숫자를 입력합니다. 여기에 값을 입력하면 **cXML 매개 변수** 페이지에 지정된 값보다 우선 적용됩니다. 시스템은 Supply Chain Management의 표준 주소를 여기에 지정된 문자 수에 맞추기 위해 줄 바꿈과 공백을 제거합니다. 추가 문자는 잘립니다.
- **TO\_DOMAIN** – 구매 주문 문서를 보내는 데 사용되는 값을 입력합니다. 이 값은 공급업체에서 제공합니다.
- **TO\_IDENTITY** – 구매 주문 문서를 보내는 데 사용되는 값을 입력합니다. 이 값은 공급업체에서 제공합니다.
- **USERAGENT** – 사용 중인 시스템을 식별하는 값을 입력합니다. 예를 들어 _Dynamics 365 Supply Chain Management_ 를 입력합니다.
- **VERSION** – 공급업체에서 이 정보를 요청하는 경우 cXML 버전 번호를 입력합니다. 기본 버전은 *1.2.008* 입니다. 이 버전은 안정적이며 대부분의 공급업체에서 허용합니다.
- **RESPONSETEXT** – 주문이 전송된 후 공급업체가 cXML 응답 메시지에 반환할 것으로 예상하는 사용자 정의 텍스트를 입력합니다. 이러한 방식으로 시스템은 메시지를 _확인됨_ 으로 표시할 수 있습니다. 응답이 여기에 입력한 표준 텍스트 또는 고객 텍스트와 일치하지 않는 경우 요청은 _오류_ 로 표시됩니다.
- **RESPONSETEXTSUB** – **RESPONSETEXT** 필드에 지정된 값에 대한 공급업체 응답 텍스트를 검색하려면 이 속성을 _TRUE_ 로 설정합니다. 예를 들어 공급업체는 응답에 "OK"가 포함된 긴 문자열을 반환할 수 있습니다. 이 경우 **RESPONSETEXT** 필드에 _OK_ 를 입력하고 **RESPONSETESTSUB** 를 _TRUE_ 로 설정하여 응답의 모든 곳에서 "OK"를 검색합니다. 그런 다음 주문을 _승인됨_ 으로 설정할 수 있습니다.
- **CONTENTTYPE** – 일반적인 카탈로그 설정에서는 이 속성을 설정할 필요가 없습니다. 구매 주문을 보낼 때 공급업체 시스템에서 서버 500 오류를 수신하는 경우 이 속성을 _FALSE_ 로 설정하여 테스트를 수행할 수 있습니다. 이 값은 웹 요청의 설정을 변경하고 일부 플랫폼에 대해 메시지가 전송되도록 할 수 있습니다.
- **ENABLEHEADERS** – 이 속성을 _TRUE_ 로 설정하여 구매 주문서와 함께 헤더를 보냅니다. 공급업체에서 요구하는 경우에만 이 속성을 설정해야 합니다. 이 속성을 _TRUE_ 로 설정하면 공급업체가 제공하는 이름을 기반으로 하는 추가 사용자 정의 속성을 추가하고 접두사 _H\__ 를 붙입니다. 대표적인 예는 **H\_USERID**, **H\_PASSWORD**, **H\_RECEIVERID** 및 **H\_ACTIONREQUEST** 가 있습니다. 다음 사용자 지정 속성이 기본 속성에 포함됩니다.

    - **H\_USERID** – 거래 파트너가 구매 주문을 제출하기 위해 URL의 일부로 사용자 ID를 보내도록 요구하는 경우 여기에 값을 입력합니다.
    - **H\_PASSWORD** – 거래 파트너가 구매 주문을 제출하기 위해 암호의 일부로 사용자 ID를 보내도록 요구하는 경우 여기에 값을 입력합니다.

- **ENABLEMANUALPO** – 이 속성이 _TRUE_ 로 설정되어 있으면 사용자가 수동으로 구매 주문을 생성할 때(즉, 구매 요청에서 시작하지 않는 경우) 해당 구매 주문은 **cXML을 통해 구매 주문 보내기** 옵션을 통해 주문합니다. 이 속성이 설정되어 있지 않거나 _FALSE_ 로 설정되어 있으면 **cXML을 통해 구매 주문 보내기** 옵션이 수동으로 생성된 구매 주문에 대한 구매 주문 헤더에 설정되지 않습니다. 요청에서 생성된 구매 주문의 경우 이 속성의 설정에 관계없이 **cXML을 통해 구매 주문 보내기** 옵션 설정이 항상 공급업체로부터 상속됩니다. 자세한 내용은 이 항목의 앞부분에 있는 [cXML을 사용하도록 공급업체 구매 주문 설정](#vendor-setup) 섹션을 참조하세요.
- **PUNCHOUTPOONLY** – 이 속성이 _TRUE_ 로 설정되면 PunchOut 프로세스에서 생성된 구매 요청 라인만 구매 주문 헤더에서 **cXML을 통해 구매 주문 보내기** 옵션을 설정합니다. 또한 구매 주문에 있는 모든 라인의 구매 요청 라인 유형은 _외부 카탈로그 항목_ 이어야 합니다. 그렇지 않으면 cXML 구매 주문을 생성할 수 없습니다.
- **PUNCHOUTSHIPTO** – 이 속성을 _TRUE_ 로 설정하면 사용자가 외부 카탈로그를 열 때 법인의 기본 주소가 PunchOut 설정 요청 메시지에 추가됩니다. 이 주소는 **배송지** 주소로 추가됩니다. 공급업체는 **배송지** 주소를 사용하여 회사 위치에 따른 가격을 표시합니다.
- **TRACEPUNCHOUT** – 요청에서 외부 카탈로그를 검색하려고 할 때 오류 메시지가 표시되면 이 속성을 _TRUE_ 로 설정합니다. 그런 다음 Supply Chain Management와 공급업체 사이트 간에 전송되는 **PunchOutSetupRequest** 및 **PunchOutResponse** 메시지에 대한 추적 정보가 채워집니다. 이 정보는 문제가 있는 공급업체 카탈로그의 **외부 카탈로그 설정** 페이지에서 열 수 있는 **cXML 장바구니 메시지 로그** 페이지에서 볼 수 있습니다. 문제를 해결하는 경우에만 이 속성을 _TRUE_ 로 설정해야 합니다. 이는 각 PunchOut에 대해 데이터베이스에 큰 성능 오버헤드를 생성하기 때문입니다. 자세한 내용은 이 항목 뒷부분의 [외부 카탈로그 PunchOut에 대한 cXML 장바구니 메시지 로그 보기](#message-log) 섹션을 참조하세요.
- **REPLACENEWLINE** – 공급업체 시스템에서 줄 바꿈 문자(\\n)가 포함된 **PunchOutResponse** 메시지를 보내기 때문에 문제가 발생하는 경우 이 속성을 _TRUE_ 로 설정합니다. 이 문제는 공급업체의 메시지가 미들웨어 또는 조달 허브를 통해 구문 분석되는 경우 발생할 수 있습니다. 새 공급업체 설정에 문제가 있는 경우 **TRACEPUNCHOUT** 속성을 _TRUE_ 로 설정하여 **PunchOutResponse** 메시지를 보고 XML이 태그는 개행 문자로 나뉩니다.
- **POCOMMENTS** – Supply Chain Management의 구매 주문에 첨부된 메모를 cXML 문서에 포함시키려면 이 속성을 _TRUE_ 로 설정합니다. 첨부 텍스트는 구매 주문 메시지의 헤더 설명에 포함됩니다. 시스템에서 이러한 첨부 파일을 선택하고 처리하는 방법에 대한 자세한 내용은 이 항목 뒷부분의 [구매 주문서에 메모 첨부](#attach-po-notes) 섹션을 참조하세요.
- **VENDCOMMENTS** – Supply Chain Management의 구매 주문에 첨부된 메모를 cXML 문서에 포함시키려면 이 속성을 _TRUE_ 로 설정합니다. 첨부 텍스트는 구매 주문 메시지의 헤더 설명에 포함됩니다. 시스템에서 이러한 첨부 파일을 선택하고 처리하는 방법에 대한 자세한 내용은 [구매 주문서에 메모 첨부](#attach-po-notes) 섹션을 참조하세요.
- **CLEANAMP** – 공급업체에 PunchOut을 수행하려고 할 때 오류 메시지를 수신하고 공급업체의 반환 URL에 잘못 인코딩된 앰퍼샌드(\&)가 포함된 경우 이 속성을 _TRUE_ 로 설정합니다.
- **PUNCHOUTTZ** – 작업 중인 공급업체가 ISO(International Organization for Standardization) 8601 표준을 사용하여 PunchOut 요청 메시지의 날짜/시간에 대한 특정 유효성 검사를 수행하는 경우 이 속성을 _TRUE_ 로 설정합니다. Supply Chain Management는 **PunchOutSetupRequest** 메시지에서 UTC(협정 세계시) 날짜를 사용합니다. 따라서 이 속성을 _TRUE_ 로 설정하면 날짜/시간 형식에 *+00:00* 이 추가됩니다.
- **WMSADDRESSID** – 구매 주문 헤더의 창고 번호를 공급업체에 보내는 구매 주문 요청에 대한 **배송지** 주소의 **addressID** 값으로 사용하려면 이 속성을 _TRUE_ 로 설정합니다. **FIXEDSHIPADDRESSID** 속성에 대한 값을 설정하면 해당 값이 이 값보다 우선합니다. 따라서 한 속성 또는 다른 속성을 사용하여 문서의 **배송지** 주소에 **addressID** 값을 설정해야 합니다.
- **PUNCHOUTSHIPTOUSER** – 이 속성은 **PUNCHOUTSHIPTO** 속성과 함께 작동합니다. **PUNCHOUTSHIPTO** 가 _TRUE_ 로 설정된 경우 법인의 주소가 선택됩니다. **PUNCHOUTSHIPTOUSER** 가 _TRUE_ 로 설정된 경우 PunchOut 사용자의 기본 주소가 법인 주소 대신 사용됩니다.

### <a name="activate-the-external-catalog"></a>외부 카탈로그 활성화

외부 카탈로그에 대한 모든 속성 설정 및 기타 설정 구성을 마쳤으면 **외부 카탈로그** 페이지의 **일반** 빠른 탭으로 돌아가서 **활성** 옵션을 *예* 로 설정합니다.

### <a name="attach-notes-to-a-purchase-order"></a><a name="attach-po-notes"></a>구매 주문서에 메모 첨부

[주문 속성 설정](#set-order-properties) 섹션에서 언급했듯이 전달된 cXML에 관련 구매 주문 및/또는 공급업체 레코드에 첨부된 메모의 텍스트를 포함하려면 외부 카탈로그 설정에서 **POCOMMENTS** 및/또는 **VENDCOMMENTS** 속성을 _TRUE_ 로 설정합니다. 이 섹션에서는 이러한 첨부 파일을 사용하는 경우 시스템이 이러한 첨부 파일을 선택하고 처리하는 방법에 대해 자세히 설명합니다.

시스템이 검색할 메모 유형을 설정하려면 **조달 및 소싱 \> 설정 \> 양식 \> 양식 설정** 으로 이동합니다. 그런 다음 **구매 주문** 탭에서 **유형의 문서 포함** 필드를 포함할 수 있는 메모 유형으로 설정합니다. 문서 첨부가 아닌 텍스트 메모만 포함됩니다.

![양식 설정 페이지.](media/cxml-form-setup.png "양식 설정 페이지")

첨부 파일은 **유형** 필드가 **유형의 문서 포함** 필드에서 선택한 값으로 설정되어 있고 **제한** 필드가 _외부_ 로 설정된 경우에만 구매 주문에 포함됩니다. 구매 주문에 대한 첨부 파일을 생성, 조회 또는 편집하려면 **조달 및 소싱 \> 모든 구매 주문** 으로 이동하여 구매 주문을 선택하거나 생성한 다음 오른쪽 상단 모서리에 있는 **첨부** 버튼(종이 클립 기호)을 선택합니다.

![공급업체에 보내도록 설정된 첨부된 메모입니다.](media/cxml-note-to-vendor.png "공급업체에 보내도록 설정된 첨부된 메모")

## <a name="view-the-cxml-cart-message-log-for-external-catalog-punchout"></a><a name="message-log"></a>외부 카탈로그 PunchOut에 대한 cXML 장바구니 메시지 로그 보기

외부 카탈로그에 대해 **Punchout 프로토콜 유형** 필드를 _cXML_ 로 설정하면 시스템은 공급업체에서 돌아오는 장바구니의 메시지 로그를 캡처합니다. 이 로그는 문제 해결 및 기타 데이터 용도로 사용할 수 있습니다.

외부 카탈로그에 대한 로그를 열려면 관련 카탈로그를 선택한 다음 작업 창에서 **cXML 장바구니 메시지 로그** 를 선택합니다. **cXML 장바구니 메시지 로그** 페이지에는 반환된 장바구니 목록, 해당 장바구니와 관련된 XML 및 관련 구매 요청에 생성된 라인이 표시됩니다.

![cXML 장바구니 메시지 로그 페이지.](media/cxml-cart-message-log.png "cXML 장바구니 메시지 로그 페이지")

## <a name="set-the-extrinsic-elements-for-external-catalog-punchout"></a>외부 카탈로그 PunchOut에 대한 외부 요소 설정

외부 카탈로그에 대해 **Punchout 프로토콜 유형** 필드를 *cXML* 로 설정하면 요청 XML 메시지의 올바른 위치에 삽입될 사용자 정의 외부 요소를 추가할 수 있습니다.

외부 카탈로그에 외부 요소를 추가하려면 다음 단계를 따르십시오.

1. **조달 및 소싱 \> 카탈로그 \> 외부 카탈로그** 로 이동합니다.
1. 관련 카탈로그를 선택합니다.
1. **메시지 형식** 빠른 탭의 **외부 요소** 섹션에서 **추가** 를 선택하여 포함하려는 각 외부 요소의 그리드에 행을 추가합니다. 각 행에 대해 다음 필드를 설정합니다.

    - **이름** – 요소의 이름을 입력합니다. 이 값은 각 행에 의해 생성되는 **Extrinsic** XML 요소의 **name** 특성 값이 됩니다. 일반적으로 공급업체와 협력하여 각 외부 요소의 이름에 동의합니다.
    - **값** – 요소의 값을 선택합니다. 이 값은 각 행에 의해 생성되는 XML 요소의 값이 됩니다. 다음 값을 사용할 수 있습니다.

        - **사용자 이름** – PunchOut을 수행하는 사용자의 이름을 사용합니다. 이 이름은 Supply Chain Management의 로그인 이름입니다.
        - **사용자 이메일** – PunchOut을 수행하는 사용자의 이메일 주소를 사용합니다. 이 주소는 사용자가 **사용자 옵션** 페이지의 **계정** 탭에서 설정한 주소입니다.
        - **임의 값** – 고유한 임의 값을 사용합니다.
        - **사용자 전체 이름** – 외부 카탈로그에 액세스하는 사용자와 연결된 담당자의 전체 이름을 사용합니다.
        - **이름** – 외부 카탈로그에 액세스하는 사용자와 연결된 담당자의 이름을 사용합니다.
        - **성** – 외부 카탈로그에 액세스하는 사용자와 연결된 담당자의 성을 사용합니다.
        - **전화 번호** – 외부 카탈로그에 액세스하는 사용자와 연결된 담당자의 기본 전화 번호를 사용합니다.

![외부 요소 설정.](media/cxml-extrinsics.png "외부 요소 설정")

사용자 또는 관리자는 사용자가 PunchOut을 수행할 때까지 추가되지 않기 때문에 외부 요소를 볼 수 없습니다. cXML 설정 요청 메시지의 **BuyerCookie** 및 **BrowserFromPost** 요소 사이에 자동으로 삽입됩니다. 따라서 외부 카탈로그를 설정할 때 XML에서 수동으로 설정할 필요가 없습니다.

![XML에 추가된 외부 요소입니다.](media/cxml-extrinsics-xml.png "XML에 추가된 외부 요소")

## <a name="create-and-process-a-purchase-order"></a><a name="create-po"></a>구매 주문 생성 및 처리

공급업체에 대한 구매 주문을 생성하면 해당 공급업체의 **cXML을 통해 구매 주문 보내기** 옵션 설정이 상속됩니다. 그러나 설정은 구매 주문서의 **헤더** 보기에 있는 **설정** 빠른 탭에서 계속 사용할 수 있으므로 나중에 필요에 따라 변경할 수 있습니다.

![cXML을 사용하도록 설정된 구매 주문.](media/cxml-purchase-order.png "cXML을 사용하도록 설정된 구매 주문")

PunchOut 흐름에서 가져온 구매 요청에서 구매 주문을 만들 때 필요한 모든 라인 세부 정보가 채워집니다. 그런 다음 구매 주문 라인을 수동으로 추가하거나 다른 구매 주문에서 복사할 수 있습니다. 모든 필수 필드를 설정해야 합니다. 이러한 필수 필드에는 cXML 메시지에 사용될 공급업체 번호인 외부 참조 번호가 포함됩니다.

![외부 참조 번호의 예.](media/cxml-line-details.png "외부 참조 번호의 예")

구매 주문에 대한 모든 세부 정보를 입력한 후 확인해야 합니다. 구매 주문이 확인되지 않으면 메시지가 전송되지 않습니다. 구매 주문을 확인하려면 작업 창의 **구매** 탭에 있는 **작업** 그룹에서 **확인** 을 선택합니다. 

구매 주문이 확정된 후 **구매 주문 확인** 분개장을 통해 확인 상태를 확인할 수 있습니다. 작업 창의 **구매** 탭에 있는 **분개장** 그룹에서 **구매 주문 확인** 을 선택합니다.

각 구매 주문에는 많은 확인이 있을 수 있습니다. 각 확인은 증분 번호로 표시됩니다. 다음 그림에서 구매 주문은 *00000275* 이고 확인은 *00000275-1* 입니다. 이 번호는 표준 Supply Chain Management 기능을 반영합니다. 여기서 구매 주문의 변경 사항과 이에 따라 공급업체에 보내야 하는 cXML 메시지 유형이 확인을 기반으로 식별됩니다. 그림에서 볼 수 있듯이 **구매 주문 확인** 페이지에는 **주문 전송 상태** 및 **주문 요청 공급업체 상태** 필드도 포함되어 있습니다. 이 페이지에서 볼 수 있는 다양한 상태 값에 대한 자세한 내용은 이 항목 뒷부분의 [구매 주문 요청 모니터링](#monitor-po-requests) 섹션을 참조하세요.

![구매 주문 확인 페이지.](media/cxml-po-confirmations.png "구매 주문 확인 페이지")

문서에 대한 자세한 정보를 보려면 그리드 위의 **구매 주문 요청** 을 선택합니다.

**구매 주문 요청** 페이지에는 두 개의 그리드가 포함됩니다. 페이지 상단의 그리드에는 전송으로 표시된 각 구매 주문에 대해 하나의 레코드가 있습니다. 페이지 하단의 **구매 주문 요청 내역** 탭에 있는 그리드에는 각 확인의 상태를 나타내기 위해 선택한 구매 주문에 대한 여러 레코드가 있을 수 있습니다. 다음 그림은 **구매 주문 요청 내역** 탭의 상단 그리드에 있는 구매 주문서 00000275와 그리드에 있는 문서 00000275-1을 보여줍니다.

![구매 주문 요청 페이지.](media/cxml-po-request.png "구매 주문 요청 페이지")

일괄 작업이 설정되어 실행 중인 경우 문서가 전송됩니다. 문서가 전송된 후 상태 변경 사항을 볼 수 있습니다. 다음 그림에서 **주문 전송 상태** 필드는 _전송됨_ 으로 설정되어 있습니다. **주문 요청 공급업체 상태** 필드는 _확인됨_ 으로 설정되어 공급업체가 문서를 받았고 문서를 읽고 시스템에 저장할 수 있었음을 나타냅니다. **구매 주문 요청 기록** 탭의 그리드는 문서가 전송된 시간을 보여줍니다. 이 페이지에서 볼 수 있는 다양한 상태 값에 대한 자세한 내용은 [구매 주문 요청 모니터링](#monitor-po-requests) 섹션을 참조하세요.

![구매 주문 요청 페이지의 상태 메시지.](media/cxml-po-request-2.png "구매 주문 요청 페이지의 상태 메시지")

## <a name="schedule-the-purchase-order-request-batch-job"></a><a name="po-batch"></a>구매 주문 요청 일괄 작업 예약

구매 주문 요청을 보내기 위한 일괄 작업을 활성화하려면 **조달 및 소싱 \> 설정 \> cXML 관리 \> 구매 주문 요청** 으로 이동한 다음 작업 창의 **구매 주문 요청** 탭의 **일괄 처리** 그룹에서 **작업 제출** 을 선택하여 **구매 요청 준비 및 보내기** 대화 상자를 엽니다. 일반적으로 Supply Chain Management의 일괄 작업에 대해 수행하는 것처럼 이 대화 상자를 사용하여 반복을 설정할 수 있습니다. 주문량에 따라 간격을 선택합니다. 매분 배치 작업을 실행할 수 있지만 공급업체의 일정과 일치하는 주문 접수 창을 기반으로 영업일 내내 배치를 보내는 것이 가장 좋습니다.

예를 들어 공급업체에 오후 1시까지 접수된 모든 주문은 당일 배송된다는 정책이 있습니다. 이 경우 주문을 알리기 위해 아침에 몇 번만 배치를 실행해야 할 수 있습니다. 나머지 주문은 다음날 발송됩니다. 이 결정은 순전히 비즈니스 결정입니다. 이를 검토하고 그에 따라 매개 변수를 설정할 수 있습니다.

이 프로세스는 상태가 *대기 중* 인 구매 주문 요청 문서를 찾습니다. 즉시 공급업체에 보내야 하는 주문이 있는 경우 **작업 제출** 을 선택하고 **일괄 처리** 옵션을 *아니요* 로 설정할 수 있습니다.

## <a name="monitor-purchase-order-requests"></a><a name="monitor-po-requests"></a>구매 주문 요청 모니터링

### <a name="view-the-status-of-a-purchase-order"></a>구매 주문의 상태 보기

cXML을 통해 보낼 수 있는 주문이 확인되면 _대기 중_ 상태가 됩니다. [구매 주문 생성 및 처리](#create-po) 섹션에 설명된 대로 **구매 주문 요청** 페이지에서 구매 주문 상태를 볼 수 있습니다. 각 구매 주문 요청은 매개 변수와 데이터에 따라 여러 상태 중 하나를 가질 수 있습니다. 이 섹션에서는 다양한 상태 유형과 해당 유형이 가질 수 있는 값에 대해 설명합니다. 이 정보는 문제를 관리하고 구매 주문 상태를 이해하는 데 도움이 될 수 있습니다.

![구매 주문 요청 페이지의 구매 주문 상태입니다.](media/cxml-monitor-po-request.png "구매 주문 요청 페이지의 구매 주문 상태")

**구매 주문 요청** 페이지 상단의 그리드에 다음 상태 값이 표시될 수 있습니다.

- **주문 전송 상태** – 이 필드는 다음 값 중 하나를 가질 수 있습니다.

    - **대기 중** – 문서가 전송 대기 중입니다.
    - **보냄** – 문서가 전송되었습니다.
    - **중지됨** – 문서가 전송되기 전에 _중지됨_ 으로 표시되었습니다. (문서를 _중지됨_ 으로 표시하려면 **구매 요청** 페이지의 작업 창에서 **중지됨** 을 선택합니다.)
    - **보관** – 문서가 삭제되었습니다. (문서를 제거하려면 **구매 요청** 페이지의 작업 창에서 **제거** 를 선택합니다.)

- **주문 요청 공급업체 상태** – 이 필드는 다음 값 중 하나를 가질 수 있습니다.

    - **대기 중** – 문서가 전송 대기 중입니다.
    - **확인됨** – 문서가 공급업체에서 수신된 것으로 확인되었습니다. 페이지 하단의 **응답 XML** 탭을 선택하여 공급업체에서 반환된 자세한 XML 메시지를 검토할 수 있습니다.
    - **오류** – 문서를 공급업체에 보냈지만 오류가 발생했습니다. 페이지 하단의 **응답 XML** 탭을 선택하여 오류 메시지를 검토할 수 있습니다.

**구매 주문 요청** 페이지 하단에 있는 **구매 주문 요청 내역** 탭의 그리드에 다음 값이 표시될 수 있습니다.

- **주문 요청 유형** – 이 필드는 다음 값 중 하나를 가질 수 있습니다.

    - **신규** – 라인은 구매 주문이 확인되는 즉시 새 것으로 표시됩니다.
    - **업데이트** – 공급업체에서 이미 확인을 보내고 확인한 경우 다음 확인은 _업데이트_ 로 표시됩니다. [전역 cXML 매개 변수](#cxml-parameters)에서 **구매 요청 업데이트 보내기** 옵션이 *예* 로 설정된 경우에만 업데이트가 전송됩니다.
    - **삭제** – 공급업체에서 이미 확인을 보내고 확인했지만 구매 주문이 취소된 경우 대기 중인 확인은 _삭제_ 로 표시됩니다. [전역 cXML 매개 변수](#cxml-parameters)에서 **구매 요청 삭제 보내기** 옵션이 *예* 로 설정된 경우에만 삭제가 전송됩니다.

- **요청 시간** – 주문 확인이 생성된 시간입니다. 요청 시간을 주문 상태 시간과 비교하여 확인과 공급업체 승인 사이의 시간을 결정할 수 있습니다.
- **주문 전송 상태** – 이 필드는 페이지 상단의 **주문 전송 상태** 필드와 동일합니다. 확인 수준에서 상태를 더 쉽게 볼 수 있도록 여기에서 반복됩니다. **주문 요청 유형** 필드가 *신규* 로 설정되고 확인이 전송되기 전에 구매 주문이 재확인되면 **주문 전송 상태** 필드는 *보관* 으로 설정합니다.
- **주문 상태 시간** – 구매 주문 요청 내역 기록이 마지막으로 업데이트된 시간입니다. (업데이트에는 상태 변경이 포함됩니다.)
- **주문 요청 공급업체 상태** – 이 필드는 페이지 상단의 **주문 요청 공급업체 상태** 필드와 동일합니다. 확인 수준에서 상태를 더 쉽게 볼 수 있도록 여기에서 반복됩니다.
- **다시 제출 시간** – 레코드가 다시 제출된 시간입니다.
- **다시 제출 횟수** – 레코드가 다시 제출된 횟수입니다. 높은 숫자는 여러 실패를 나타내므로 데이터 설정 또는 공급업체의 데이터 설정에 문제가 있음을 나타낼 수 있습니다.

### <a name="view-the-xml-for-a-purchase-order-request-message"></a>구매 주문 요청 메시지에 대한 XML 보기

구매 주문 요청 메시지의 XML을 보려면 **구매 주문 요청** 페이지 하단의 **요청 XML 텍스트** 탭을 선택합니다. 이 탭의 정보는 테스트 또는 오류 검증 중에 유용할 수 있습니다. 정보를 더 쉽게 읽을 수 있도록 형식이 지정된 메시지로 볼 수 있습니다. 탭의 내용을 텍스트 파일로 복사한 다음 XML 편집기에서 봅니다.

![XML 텍스트 요청 탭.](media/cxml-request-xml-text.png "XML 텍스트 요청 탭")

### <a name="view-the-details-of-the-vendor-response"></a>공급업체 응답의 세부정보 보기

공급업체 승인 또는 오류 응답의 내용을 보려면 **구매 주문 요청** 페이지 하단의 **응답 XML** 탭을 선택합니다.

![응답 XML 탭.](media/cxml-response-xml.png "응답 XML 탭")

## <a name="additional-resources"></a>추가 리소스

- [PunchOut 전자 조달을 위한 외부 카탈로그 설정](set-up-external-catalog-for-punchout.md)
- [PunchOut 전자 조달을 위한 외부 카탈로그 사용](use-external-catalogs-for-punchout.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
