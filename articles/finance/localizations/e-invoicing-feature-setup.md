---
title: 기능 설정 작업
description: 이 항목에서는 전자 송장 발행 기능을 설정하는 방법을 설명합니다.
author: dkalyuzh
ms.date: 12/15/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: dkalyuzh
ms.search.validFrom: ''
ms.dyn365.ops.version: ''
ms.openlocfilehash: 41ffc9c7009291a55392e50c5e490d3288d122bc
ms.sourcegitcommit: ffdb6794746ffe5461f9dcf34ed8e64976d22d2d
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/02/2022
ms.locfileid: "8451681"
---
# <a name="work-with-feature-setups"></a>기능 설정 작업

[!include [banner](../includes/banner.md)]

전자 파일 생성 및 기타 처리 단계(예: 파일 디지털 서명, 정부 웹 서비스에 제출 및 응답 수신 또는 저장)를 설정하기 위해 전자 송장 발행 기능에 대한 처리 파이프라인, 적용 가능성 규칙 및 변수를 설정합니다.

설정 정보는 *기능 설정* 개념으로 결합하여 생성, 삭제, 조정이 가능합니다. 전자 송장 발행 기능의 완성된 버전에 대한 정보도 볼 수 있습니다.

전자 파일을 생성, 처리 및 수신하는 다양한 시나리오를 정의하는 데 필요한 만큼 기능 설정 항목을 생성할 수 있습니다. 이러한 기능 설정 항목에는 실행을 위한 독립적인 처리 작업 및 조건이 있지만 단일 전자 송장 발행 기능의 부분으로 생성되고 해당 수명 주기 및 배포 프로세스를 상속합니다.

## <a name="add-a-feature-setup"></a>기능 설정 추가

1. RCS(Regulatory Configuration Service) 계정에 로그인합니다.
2. **세계화 기능** 작업 영역의 **기능** 섹션에 있는 **전자 청구서 발행** 타일을 선택합니다.
3. **전자 송장 발행 기능** 페이지에서 **초안** 상태의 전자 송장 발행 기능 버전을 선택합니다.
4. **설정** 탭에서 **추가** 를 선택합니다.
5. **기능 설정 만들기** 드롭다운 대화 상자의 **새로 만들기** 필드 그룹에서 다음 옵션 중 하나를 선택합니다.
 
    - **사용자 지정 설정** – 빈 채널, 빈 처리 파이프라인 목록, 적용 가능성 규칙을 위한 새 기능 설정을 만들고 설정 유형에 따라 변수의 기본 집합을 만듭니다.
    - **기능 설정에서** – 현재 전자 송장 발행 기능의 범위에서 다른 기능 설정의 복사본을 만듭니다.

6. 마지막 단계에서 **사용자 지정 설정** 옵션을 선택한 경우 기능 설정 항목의 이름과 설명을 입력한 후 **설정 유형** 필드 그룹에서 다음 옵션 중 하나를 선택합니다.

    - **처리 파이프라인** – 아웃바운드 전자 문서를 생성 및 처리하려면 이 옵션을 선택합니다. 이 설정 유형의 경우 시스템은 빈 처리 파이프라인 목록, 적용 가능성 규칙을 위한 빈 섹션, 기본 변수 집합을 만듭니다. 인바운드 전자 문서용 채널로는 작업할 수 없습니다.
    - **데이터 채널** – 정의된 채널 중 하나에서 인바운드 전자 문서를 수신하고 추가 작업 없이 Microsoft Dynamics 365 Finance 또는 Dynamics 365 Supply Chain Management로 직접 전달하는 프로세스를 설정하려면 이 옵션을 선택합니다. 이 설정 유형의 경우 시스템은 데이터 채널에 대한 매개 변수의 미리 정의된 목록, 적용 가능성 규칙을 위한 빈 섹션, 기본 변수의 집합을 만듭니다. 처리 파이프라인에는 작업을 추가할 수 없습니다.
    - **데이터 채널 및 처리 파이프라인** – 이 설정 유형은 **데이터 채널** 설정 유형과 비슷합니다. 그러나 처리 파이프라인에서 인바운드 전자 문서가 Finance 또는 Supply Chain Management로 전달되기 전의 추가 작업을 설정할 수 있습니다.

7. 마지막 단계에서 **데이터 채널** 또는 **데이터 채널 및 처리 파이프라인** 옵션을 선택한 경우 **데이터 채널 선택** 필드에서 통합할 채널을 선택해야 합니다.
8. **만들기** 를 선택합니다.

기능 설정이 생성된 후 **편집** 을 선택하여 구성할 수 있습니다.

## <a name="edit-a-feature-setup"></a>기능 설정 편집

기능 설정 유형에 따라 아웃바운드 전자 파일을 생성하여 외부 채널에 제출하거나 인바운드 문서를 수신하여 Finance 또는 Supply Chain Management 애플리케이션으로 전달하는 프로세스를 구성할 수 있습니다.

### <a name="data-channel"></a>데이터 채널

*데이터 채널* 은 전자 파일을 가져와 처리하거나 Finance 또는 Supply Chain Management에 직접 전달합니다. 이 옵션은 **처리 파이프라인** 유형의 기능 설정에는 사용할 수 없습니다.

데이터 채널을 설정하려면 채널 이름을 입력합니다. 그런 다음 선택한 채널 유형에 따라 매개 변수를 정의합니다. 데이터 채널 식별자는 데이터 채널을 식별하기 위해 특별히 생성된 변수를 참조해야 합니다. Finance 또는 Supply Chain Management에서 참조로 사용됩니다.

**첨부 파일 필터** 탭에서 채널에서 특정 파일을 가져오기 위한 필터 세트를 정의해야 합니다. 파일의 파일 이름 확장자가 다를 것으로 예상되거나 파일 이름에 따라 파일을 다르게 처리해야 하는 경우 여러 라인을 만들 수 있습니다. 주요 매개 변수는 다음과 같습니다.

- **이름** – 처리 중에 시스템이 참조할 파일의 이름을 입력합니다. Finance 및 Supply Chain Management 애플리케이션에서 제출 로그의 파일을 볼 수 있습니다.
- **필터** – 필터를 정의하여 파일을 선택합니다.
- **선택 사항** – 이 확인란의 선택을 취소하면 파일이 필요합니다. 이 경우 채널에 필터에 해당하는 파일이 포함되어 있지 않으면 시스템에 오류 메시지가 표시됩니다. 이 매개 변수는 이메일에 적용할 수 있습니다.

채널이 사서함이고 인바운드 이메일에 여러 첨부 파일이 포함된 경우 서비스에서 첨부 파일을 처리하는 방법을 정의하는 규칙을 구성할 수 있습니다. 서비스는 각 첨부 파일을 별도의 전자 송장으로 간주하거나 하나의 첨부 파일을 기본 송장으로 처리하고 다른 모든 첨부 파일을 추가로 처리할 수 있습니다.

### <a name="processing-pipeline"></a>처리 파이프라인

*처리 파이프라인* 은 성공적으로 완료될 때까지 순차적으로 실행되는 일련의 *작업* 입니다. 처리 파이프라인을 사용하여 전자 파일 생성 및 기타 단계(예: 파일 디지털 서명, 외부 웹 서비스에 제출 및 응답 구문 분석, 인바운드 문서 수신 및 처리)를 수행하기 위한 프로세스를 설정할 수 있습니다.

작업 목록은 미리 정의되어 있습니다. **새로 만들기** 및 **삭제** 버튼을 사용하여 문서 제출 또는 수신에 필요한 프로세스를 논리적으로 정의하는 작업의 조합을 지정할 수 있습니다.

작업의 순서가 중요합니다. **위로** 및 **아래로** 버튼을 사용하여 순서를 조정할 수 있습니다.

각 작업에는 구성하거나 조정할 수 있는 매개 변수 세트가 있습니다. 특정 매개 변수 집합은 작업 유형에 따라 다릅니다.

- **작업** – 작업 유형을 선택합니다.
- **작업 이름** – 작업의 이름을 입력합니다. 이 이름은 제출 로그와 Finance 및 Supply Chain Management 애플리케이션의 메시지에 표시됩니다.
- **설명** – 프로세스에서 작업의 목적에 대한 자세한 내용을 제공합니다.
- **다시 시도 활성화** – 이 확인란을 선택하면 **작업 재시도** 필드에서 작업을 선택하고 **매개 변수 다시 시도** 탭에서 추가 매개 변수를 구성할 수 있습니다.

    특정 작업을 실행할 수 없는 경우 다시 시도 기능을 사용하면 서비스의 동작을 구성할 수 있습니다. 예를 들어 연결하려는 외부 웹 서비스가 응답하지 않는 경우 시스템이 연결을 다시 시도해야 하는 횟수, 간격 및 처리 파이프라인의 작업을 지정할 수 있습니다.

- **결과 내보내기** – 처리 파이프라인에서 *하나의* 작업에 대해 이 확인란을 선택할 수 있습니다. 작업이 Finance 또는 Supply Chain Management 애플리케이션에서 생성하는 전자 파일은 **전자 문서 제출 로그** 페이지에서 내보낼 수 있습니다.

### <a name="applicability-rules"></a>적용 가능성 규칙

*적용 가능성 규칙* 은 전자 송장 발행 기능 집합을 통해 전자 송장 발행 기능을 실행하기 위한 컨텍스트를 제공하는 구성 가능한 조항입니다.
Finance 또는 Supply Chain Management에서 전자 송장 발행으로 제출된 비즈니스 문서에는 전자 송장 발행 기능 집합이 제출을 처리하기 위해 특정 전자 송장 발행 기능 버전 및 특정 기능 설정 항목을 호출할 수 있도록 하는 명시적 참조가 포함되지 않습니다. 그러나 올바르게 구성된 비즈니스 문서에는 전자 송장 발행이 선택하고 실행해야 하는 전자 송장 발행 기능 버전 및 처리 파이프라인을 결정할 수 있도록 하는 필수 요소가 포함됩니다.

적용 가능성 규칙으로 전자 송장 발행 서비스가 제출을 처리하는 데 사용해야 하는 정확한 전자 송장 발행 기능을 찾을 수 있습니다. 올바른 기능을 찾을 수 있도록, 제출된 비즈니스 문서의 **컨텍스트** 필드는 적용 가능성 규칙의 조항과 일치합니다.

다음과 같은 방법으로 적용 가능성 규칙을 사용할 수 있습니다.

- 적용 가능성 규칙 집합에 새 조항을 추가하려면 **새로 만들기** 를 선택합니다.
- **삭제** 를 선택하여 조항을 삭제합니다.
- 여러 레코드를 선택하고 **그룹** 또는 **그룹 해제** 버튼을 사용하여 항목 또는 논리 문의 조합을 만듭니다. 예를 들어 그룹으로 묶을 라인을 선택한 다음 **조항 그룹으로 묶기** 을 선택합니다. 절이 그룹화되면 새 열이 그리드에 추가됩니다. 이 열은 그룹으로 묶인 조항에 대한 논리 연산자를 지정합니다. 다음 유형의 연산자가 지원됩니다.

    - Equal
    - Not equal
    - 보다 큼/보다 작음
    - 크거나 같음/보다 작거나 같음
    - Contains
    - 다음으로 시작

    > [!NOTE]
    > 절을 그룹 해제할 때는 항상 가장 안쪽의 그룹화 수준에서 시작합니다.

### <a name="variables"></a>변수

*변수* 는 처리 파이프라인과 작업 간의 데이터 흐름을 설정할 때 더 많은 유연성을 제공합니다. 일부 작업 매개 변수에서 변수를 참조하여 데이터 또는 전자 파일을 임시로 저장할 수 있습니다. 일부 변수는 Finance 또는 Supply Chain Management 애플리케이션과 전자 송장 발행 서비스 간에 데이터를 전달하는 데 사용됩니다.

시스템은 기본적으로 일부 변수를 생성합니다. 예를 들어 **BusinessDocumentDataModel** 변수에는 제출 프로세스 동안 연결된 애플리케이션에서 호출되는 JSON(JavaScript Object Notation) 구조의 비즈니스 데이터가 포함됩니다.

다음 유형의 변수가 지원됩니다.

- **상수** – 파이프라인 작업을 처리하는 데 사용되는 임시 데이터를 저장하기 위한 컨테이너입니다.
- **클라이언트에서** – 변수의 내용은 제출 프로세스가 실행될 때 Dynamics 365 클라이언트에서 가져옵니다.
- **클라이언트로** – 변수의 내용은 제출 프로세스가 실행될 때 Dynamics 365 클라이언트로 가져올 수 있습니다.
- **데이터 형식** – 변수에 저장된 정보의 데이터 형식을 선택합니다.

### <a name="parameters"></a>매개 변수

**비즈니스 데이터 축소 비활성화** 옵션은 전자 문서 제출 시 Finance 또는 Supply Chain Management 애플리케이션에서 제공되는 비즈니스 데이터 페이로드의 구조를 최적화하는 데 사용됩니다. 최적화는 필요한 전자 파일로 추가 변환하기 위해 전자 송장 발행 서비스에 들어가는 데이터를 줄이는 데 도움이 됩니다. 기본값은 **아니요** 입니다.

- **예** – Finance 또는 Supply Chain Management는 **전자 보고** 모듈에 정의된 **송장 모델** 또는 **회계 모델**(브라질의 경우) 구조의 JSON 파일을 보냅니다. 모델의 모든 요소는 최종 전자 파일 구조와 관계없이 애플리케이션 쪽의 비즈니스 데이터로 채워집니다. 모델에는 일반적으로 대상 파일 구조에 필요한 것보다 더 많은 비즈니스 데이터가 포함되며 애플리케이션에서 이 데이터를 생성하는 데 더 많은 시간이 필요할 수 있습니다. 하나의 전자 송장 발행 기능 및 기능 설정에서 다른 출력 파일을 생성하려는 드문 경우에 이 옵션의 **예** 값이 필요합니다. **예** 값은 시나리오, 전자 파일의 구조 및 비즈니스 데이터의 완성도 문제를 해결할 때 유용합니다.
- **아니요** – Finance 또는 Supply Chain Management는 비즈니스 데이터 없이 서비스에 대한 첫 번째 호출을 합니다. 이 호출의 목적은 처리 파이프라인에서 전자 파일 변환에 사용할 전자 보고(ER) 구성에 대한 정보를 가져오는 것입니다. 이 정보는 애플리케이션으로 반환되며, 애플리케이션은 이를 사용하여 **송장 모델** 또는 **회계 모델**(브라질의 경우) 구조의 JSON 파일에 포함되어야 하는 비즈니스 데이터의 하위 집합을 결정합니다. 이 옵션에 **아니요** 값을 사용하면 애플리케이션이 전자 파일을 생성하는 데 필요한 비즈니스 데이터만 제출할 수 있기 때문에 애플리케이션이 서비스에 제출하는 비즈니스 데이터의 양을 줄이는 데 도움이 됩니다.

### <a name="validate-a-feature-setup"></a>기능 설정 유효성 검사

유효성 검사를 실행하여 전체 구성의 일관성을 확인할 수 있습니다. 예를 들어, 작업의 필수 매개 변수가 비어 있는 경우 유효성 검사가 이 불일치를 감지하고 경고 메시지를 제공합니다.

- **기능 버전 설정** 페이지의 작업 창에서 **유효성 검사** 를 선택합니다.

## <a name="delete-a-feature-setup"></a>기능 설정 삭제

1. **전자 송장 발행 기능** 페이지에서 **초안** 상태의 전자 송장 발행 기능 버전을 선택합니다.
2. **설정** 탭에서 **삭제** 를 선택합니다.
3. 표시되는 메시지 상자에서 **예** 를 선택하여 기능 설정 삭제를 확인합니다.
