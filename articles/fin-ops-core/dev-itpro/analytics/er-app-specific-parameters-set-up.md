---
title: 법인별 ER 형식의 매개 변수 설정
description: 이번에는 법인별로 전자 보고(ER) 형식의 매개 변수를 설정하는 방법에 대해 설명합니다.
author: NickSelin
ms.date: 10/22/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: cb600c55cb2d40129d1b29ab989bc8f7cf3f4686
ms.sourcegitcommit: a5861c2fef4071e130208ad20e26cb3a42a45cf1
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/17/2021
ms.locfileid: "8460702"
---
# <a name="set-up-the-parameters-of-an-er-format-per-legal-entity"></a>법인별 ER 형식의 매개 변수 설정

[!include[banner](../includes/banner.md)]

## <a name="prerequisites"></a>전제 조건

이 단계를 완료하려면 먼저 [법인별로 지정된 매개 변수를 사용하도록 ER 형식 구성](er-app-specific-parameters-configure-format.md)의 단계를 완료해야 합니다.

이 항목의 예를 완료하려면 다음 역할 중 하나에 대해 Microsoft Dynamics 365 Finance 액세스할 수 있어야 합니다.

- 전자 보고 개발자
- 전자 보고 기능 컨설턴트
- 시스템 관리자

## <a name="import-er-configurations"></a>ER 구성 가져오기
ER 구성을 가져오려면 다음 단계를 따르십시오. 

1. 환경에 로그인합니다.
2. 기본 대시보드에서 **전자 보고** 를 선택합니다.
3. **보고 구성** 을 선택합니다.
4. Finance의 현재 인스턴스에서 법인별로 지정된 매개 변수를 사용하도록 [ER 형식 구성의 단계를 완료하는 동안 RCS(Regulatory Configuration Services)에서 내보낸 구성](er-app-specific-parameters-configure-format.md)을 가져옵니다. [데이터 모델, 모델 매핑 및 형식의 순서로 각 전자 보고(ER) 구성](general-electronic-reporting.md)에 대해 다음 단계를 따르십시오.

    1. **XML 파일에서 \> Exchange 로드** 를 선택합니다.
    2. **찾아보기** 를 선택하여 필요한 ER 구성에 대한 파일을 XML 형식으로 선택합니다.
    3. **확인** 을 선택합니다.

    다음 그림은 완료했을 때 갖추어야 하는 구성을 보여줍니다.

    ![ER 구성 페이지.](./media/GER-AppSpecParms-ImportedConfigurations.PNG)

## <a name="set-up-parameters-for-the-demf-company"></a>DEMF 회사에 대한 매개 변수 설정

ER 프레임워크를 사용하여 ER 형식에 대한 애플리케이션별 매개 변수를 설정할 수 있습니다.

1. **DEMF** 법인을 선택합니다.
2. 구성 트리에서 **형식을 선택하여 LE 데이터 형식을 조회하는 방법** 을 알아봅니다.
3. 작업 창의 **구성** 탭에 있는 **애플리케이션 특정 매개 변수** 그룹에서 **설정** 을 선택합니다.

    ![매개 변수를 설정하는 ER 애플리케이션별 매개 변수 페이지.](./media/GER-AppSpecParms-LookupForm.PNG)

    **애플리케이션 특정 매개 변수** 페이지에서 형식의 **선택기** 데이터 소스에 대한 규칙을 구성하여 **LE 데이터 형식을 조회하는 방법** 을 배울 수 있습니다.

    기본 ER 형식이 **조회** 유형의 여러 데이터 원본을 포함하는 경우 데이터 원본에 대한 규칙 집합 구성을 시작하기 전에 **조회** FastTab에서 원하는 데이터 원본을 선택해야 합니다.

    각 데이터 소스에 대해 선택한 ER 형식의 각 버전에 대해 별도의 규칙을 구성할 수 있습니다.

    기본 ER 형식의 선택된 버전에서 사용할 수 있는 모든 조회 데이터 소스에 대한 전체 규칙 세트는 ER 형식에 대한 애플리케이션별 매개 변수를 구성합니다.

4. ER 형식의 버전 **1.1.1** 을 선택합니다.
5. **조건** FastTab에서 **추가** 를 선택합니다.
6. 새 기록의 **코드** 필드에서 드롭다운 화살표를 선택하여 조회를 엽니다.

    조회는 선택을 위한 세금 코드 목록을 표시합니다. 이 목록은 기본 ER 형식으로 구성된 **Model.Data.Tax** 데이터 소스에서 반환됩니다. 이 데이터 원본에는 **이름** 필드가 포함되어 있으므로 각 세금 코드의 이름이 조회에 나타납니다.

    ![코드 필드는 ER 애플리케이션별 매개 변수 페이지에서 조회합니다.](./media/GER-AppSpecParms-LookupForm-CodeFldPicker.PNG)

7. **VAT19** 세금 코드를 선택합니다.
8. 새 기록의 **조회 결과** 필드에서 드롭다운 화살표를 선택하여 조회를 엽니다. 조회는 선택할 TaxationLevel 형식 열거에 대한 값 목록을 표시합니다.

    로그인한 사용자의 기본 언어로 독일어를 선택한 경우 기본 ER 형식으로 번역된 경우 조회의 값 레이블이 독일어로 표시됩니다. 또한 **조회** 데이터 원본의 레이블이 번역된 경우 해당 레이블은 조회 탭에서 사용자가 선호하는 언어로 나타납니다.

    ![ER 애플리케이션별 매개 변수 페이지에서 조회 필드가 독일어로 번역되었습니다.](./media/GER-AppSpecParms-LookupForm-LookupFldPicker.PNG)

9. **일반 과세** 금액을 선택합니다.

    이 기록을 추가하여 다음 규칙을 정의합니다. **Selector** 조회 데이터 소스가 요청되고 **VAT19** 세금 코드가 인수로 전달되면 **일반 과세** 가 요청된 과세 수준으로 반환됩니다.

10. **추가** 를 선택한 후 다음 단계를 수행합니다.

    1. **코드** 필드에서 **InVAT19** 세금 코드를 선택합니다.
    2. **조회 결과** 필드에서 **일반 과세** 값을 선택합니다.

11. **추가** 를 선택한 후 다음 단계를 수행합니다.

    1. **코드** 필드에서 **VAT7** 세금 코드를 선택합니다.
    2. **조회 결과** 필드에서 **감소된 과세** 값을 선택합니다.

12. **추가** 를 선택한 후 다음 단계를 따르십시오.

    1. **코드** 필드에서 **InVAT7** 세금 코드를 선택합니다.
    2. **조회 결과** 필드에서 **감소된 과세** 값을 선택합니다.

13. **추가** 를 선택한 후 다음 단계를 수행합니다.

    1. **코드** 필드에서 **THIRD** 세금 코드를 선택합니다.
    2. **조회 결과** 필드에서 **과세 없음** 값을 선택합니다.

14. **추가** 를 선택한 후 다음 단계를 수행합니다.

    1. **코드** 필드에서 **InVAT0** 세금 코드를 선택합니다.
    2. **조회 결과** 필드에서 **과세 없음** 값을 선택합니다.

15. **추가** 를 선택한 후 다음 단계를 수행합니다.

    1. **코드** 필드에서 **\*비어 있지 않음\*** 옵션을 선택합니다.
    2. **조회 결과** 필드에서 **기타** 값을 선택하십시오.

    이 마지막 기록을 추가하여 다음 규칙을 정의합니다. 인수로 전달된 세금 코드가 이전 규칙을 충족하지 않는 경우 조회 데이터 소스는 요청된 과세 수준으로 **기타** 를 반환합니다.

    ![ER 애플리케이션별 매개 변수 페이지에 마지막 기록이 추가되었습니다.](./media/GER-AppSpecParms-LookupForm-RulesSet.PNG)

16. **상태** 필드에서 **완료** 를 선택합니다.

    상태가 **완료됨** 또는 **공유됨** 인 ER 형식 버전을 실행할 때 이 규칙 세트는 **완료됨** 상태여야 합니다. 그렇지 않으면 **선택기** 조회 데이터 소스가 실행되는 동안 형식이 이 규칙 집합에서 데이터를 로드하려고 할 때 기본 ER 형식의 실행이 중단됩니다.

    상태가 **초안** 인 ER 형식 버전을 실행하면 기본 ER 형식은 상태에 관계없이 이 규칙 집합에 액세스할 수 있습니다.

17. **저장** 을 선택합니다.
18. **애플리케이션 특정 매개 변수** 페이지를 닫습니다.

## <a name="run-the-er-format-in-the-demf-company"></a>DEMF 회사에서 ER 형식 실행
DEMF 회사에서 ER 형식을 실행하려면 다음 단계를 따르십시오. 

1. 구성 트리에서 **형식을 선택하여 LE 데이터 형식을 조회하는 방법** 을 알아봅니다.
2. 작업 창에서 **송장** 을 선택합니다.
3. 표시되는 대화 상자에서 **확인** 을 선택합니다.
4. 생성된 명령문을 다운로드하여 로컬에 저장하십시오.

    생성된 명세서에서 **InVAT7** 세금 코드 요약은 **감소** 수준에 있고 **VAT19** 및 **InVA19** 세금 코드 요약은 **일반** 수준에 있습니다. 이 동작은 법인 종속 규칙 집합의 구성에 의해 결정됩니다.

5. **세금 \> 간접세 \> 판매세 \> 판매세 코드** 로 이동합니다.
6. **InVAT7** 세금 코드를 선택합니다.
7. 작업 창의 **판매세 코드** 탭에 있는 **조회** 그룹에서 **전기된 판매세** 를 선택하여 세금 코드당 세금 가치 및 적용된 세율에 대한 정보를 봅니다.

    ![게시된 판매세 페이지.](./media/GER-AppSpecParms-Statement.PNG)

8. **전기 판매세** 페이지를 닫습니다.

## <a name="set-up-parameters-for-the-usmf-company"></a>USMF 회사에 대한 매개 변수 설정
USMF 회사에 대한 매개 변수를 설정하려면 다음 단계를 완료하십시오. 

1. **USMF** 법인을 선택합니다.
2. **조직 관리 \> 전자 \> 보고 구성** 으로 이동합니다.
3. 구성 트리에서 **모델을 확장하여 매개 변수화된 호출 항목** 을 학습하고 **형식을 확장하여 매개 변수화된 호출 항목** 을 확장하고 형식을 선택하여 **LE 데이터 형식을 조회하는 방법** 을 학습합니다.
4. 작업 창의 **구성** 탭에 있는 **애플리케이션 특정 매개 변수** 그룹에서 **설정** 을 선택합니다.
5. 선택한 ER 형식의 버전 **1.1.1** 을 선택합니다.
6. **조건** FastTab에서 **추가** 를 선택합니다.
7. 새 기록의 **코드** 필드에서 드롭다운 화살표를 선택하여 조회를 엽니다.

    이제 조회에서 선택할 **USMF** 회사 세금에 대한 세금 코드 목록이 표시됩니다.

    ![USMF 회사 세금에 대한 세금 코드입니다.](./media/GER-AppSpecParms-LookupForm-CodeFldPicker2.PNG)

8. **면제** 세금 코드를 선택하십시오.
9. 새 기록의 **조회 결과** 필드에서 **과세 없음** 값을 선택합니다.
10. **추가** 를 선택합니다.
11. 새 기록의 **코드** 필드에서 **\*비어 있지 않음\*** 옵션을 선택합니다.
12. 새 기록의 **조회 결과** 필드에서 **일반 과세** 값을 선택합니다.
13. **상태** 필드에서 **완료** 를 선택합니다.
14. **저장** 을 선택합니다.

    ![ER 애플리케이션 특정 매개 변수 페이지.](./media/GER-AppSpecParms-LookupForm-RulesSet2.PNG)

15. **애플리케이션 특정 매개 변수** 페이지를 닫습니다.

## <a name="run-the-er-format-in-the-usmf-company"></a>USMF 회사에서 ER 형식 실행
USMF 회사에서 ER 형식을 실행하려면 다음 단계를 완료하십시오.

1. 구성 트리에서 **형식을 선택하여 LE 데이터 형식을 조회하는 방법** 을 알아봅니다.
2. 작업 창에서 **송장** 을 선택합니다.
3. 표시되는 대화 상자에서 **확인** 을 선택합니다.
4. 생성된 명령문을 다운로드하여 로컬에 저장하십시오.

    생성된 명세서에서 이제 다른 법인에 대해 동일한 ER 형식을 재사용했지만 ER 형식은 조정하지 않았음을 알 수 있습니다.

## <a name="reuse-legal-entitydependent-parameters"></a>법인 종속 매개 변수 재사용

### <a name="duplicate-existing-parameters"></a>기존 매개 변수 복제

#### <a name="export-parameters"></a>매개 변수 내보내기
매개 변수를 내보내려면 다음 단계를 완료하십시오.

1. **조직 관리 \> 작업 영역 \> 전자 보고** 로 이동합니다.
2. **보고 구성** 을 선택합니다.
3. 구성 트리에서 **형식을 선택하여 LE 데이터 형식을 조회하는 방법** 을 알아봅니다.
4. 작업 창의 **구성** 탭에 있는 **애플리케이션 특정 매개 변수** 그룹에서 **설정** 을 선택합니다.
5. ER 형식의 버전 **1.1.1** 을 선택합니다.
6. 작업 창에서 **송장** 을 선택합니다.
7. 생성된 파일을 다운로드하여 로컬에 저장합니다.

    구성된 애플리케이션별 매개 변수 세트가 이제 XML 파일로 내보내졌습니다.

#### <a name="import-parameters"></a>매개 변수 가져오기
매개 변수를 가져오려면 다음 단계를 완료하십시오.

1. ER 형식의 버전 **1.1.2** 를 선택합니다.
2. 작업 창에서 **송장** 을 선택합니다.
3. **예** 를 선택하여 이 형식 버전에 대한 기존 애플리케이션별 매개 변수를 재정의할 것인지 확인합니다.
4. **찾아보기** 를 선택하여 버전 **1.1.1** 에 대해 내보낸 애플리케이션별 매개 변수가 포함된 파일을 찾습니다.
5. **확인** 을 선택합니다.

    ER 형식의 버전 **1.1.2** 에는 이제 원래 버전 **1.1.1** 에 대해 구성한 것과 동일한 애플리케이션별 매개 변수가 있습니다.

##### <a name="applicability-considerations"></a>적용 가능성 고려 사항

ER 형식의 애플리케이션별 매개 변수는 법인에 따라 다릅니다. 다른 법인의 한 법인에 대해 구성된 애플리케이션별 매개 변수를 재사용하려면 첫 번째 법인에 로그인한 상태에서 이를 내보내야 합니다. 이후 다른 법인에 로그인한 후 가져옵니다.

또한 이 내보내기-가져오기 접근 방식을 사용하여 원래 Finance의 한 인스턴스에서 구성된 ER 형식 관련 애플리케이션별 매개 변수를 다른 Finance 인스턴스로 전송할 수 있습니다.

ER 형식의 한 버전에 대해 애플리케이션별 매개 변수를 구성한 다음 동일한 형식의 이후 버전을 현재 Finance 인스턴스로 가져오는 경우 사용을 사용하지 않는 한 기존 애플리케이션별 매개 변수는 가져온 버전에 적용되지 않습니다. **ER 형식 기능의 이전 버전에서 애플리케이션별 매개 변수**. 자세한 내용은 [이 항목 뒷부분의 기존 매개 변수 재사용](#reuse-existing-parameters) 섹션을 참조하십시오.

가져올 파일을 선택하면 해당 파일의 애플리케이션별 매개 변수 구조가 가져오기를 위해 선택한 ER 형식의 **조회** 유형에 해당하는 데이터 소스의 구조와 비교됩니다. 기본적으로 각 애플리케이션별 매개 변수의 구조가 가져오기를 위해 선택한 ER 형식의 해당 데이터 소스의 구조와 일치하는 경우에만 가져오기가 완료됩니다. 구조가 일치하지 않으면 가져오기를 완료할 수 없다는 경고 메시지가 표시됩니다. 강제로 가져오면 선택한 ER 형식에 대한 기존 애플리케이션별 매개 변수가 정리되므로 처음부터 설정해야 합니다.


Dynamics 365 Finance 버전 10.0.24부터 **기능 관리 작업 공간에서 기능** 을 가져오는 동안 ER 애플리케이션 **특정 매개 변수** 정렬을 활성화하여 기본 동작을 변경하고 경고 메시지 수신을 방지할 수 있습니다. 이 기능이 활성화된 경우 가져오려는 애플리케이션별 매개 변수의 구조가 가져오기를 위해 선택한 대상 ER 형식의 해당 데이터 소스의 구조와 다른 경우 다음과 같은 경우 가져오기가 성공합니다.

- 대상 ER 형식의 구조는 **조회** 유형의 기존 데이터 소스에 새 조건 열을 추가하여 변경되었습니다. 가져오기가 완료되면 애플리케이션별 매개 변수가 업데이트됩니다. 애플리케이션별 매개 변수의 가져온 모든 기록에서 추가된 모든 조건 열의 값은 해당 열의 [데이터 유형](er-formula-supported-data-types-primitive.md)에 대한 기본값으로 초기화됩니다.
- 대상 ER 형식의 구조는 **조회** 유형의 기존 데이터 소스에서 일부 조건 열을 제거하여 변경되었습니다. 가져오기가 완료되면 애플리케이션별 매개 변수가 업데이트됩니다. 애플리케이션별 매개 변수의 가져온 모든 기록에서 제거된 모든 조건 열의 값이 삭제됩니다.
- **Lookup** 유형의 새로운 데이터 소스를 추가하여 대상 ER 형식의 구조가 변경되었습니다. 가져오기가 완료되면 추가된 조회가 애플리케이션별 매개 변수에 추가됩니다.
- 대상 ER 형식의 구조는 **조회** 유형의 기존 데이터 소스 중 일부를 제거하여 변경되었습니다. 가져오기가 완료되면 대상 ER 형식에서 제거된 **조회** 유형의 데이터 소스와 관련된 모든 아티팩트가 가져온 애플리케이션별 매개 변수에서 삭제됩니다.

가져오기가 완료되면 방금 설명한 변경 사항 외에 가져온 애플리케이션별 매개 변수의 상태가 **진행 중** 으로 변경됩니다. 자동으로 조정된 애플리케이션별 매개 변수는 수동으로 편집해야 한다는 경고 메시지가 나타납니다.

### <a name="reuse-existing-parameters"></a>기존 매개 변수 재사용

Dynamics 365 Finance 버전 10.0.23부터 동일한 형식의 상위 버전을 실행할 때 한 버전의 ER 형식에 대해 구성된 애플리케이션별 매개 변수를 재사용할 수 있습니다. 이렇게 하려면 **기능 관리** 작업 공간에서 **이전 버전의 ER 형식에서 애플리케이션 특정 매개 변수 사용** 기능을 활성화하십시오. 이 기능이 활성화되어 있고 애플리케이션별 매개 변수를 읽으려는 ER 형식의 한 버전을 실행하면 ER은 이 형식의 실행 중인 버전에 대해 구성된 애플리케이션별 매개 변수를 찾으려고 시도합니다. 또는 사용할 수 없는 경우 이 형식의 가장 가까운 하위 버전용입니다.

> [!NOTE]
> 현재 법인의 범위 내에서만 애플리케이션별 매개 변수를 재사용할 수 있습니다.
>
> 동일한 형식의 낮은 버전 및 **조회** 유형의 하나 이상의 데이터 소스 구조에 대해 구성된 애플리케이션별 매개 변수를 재사용하려고 하는 ER 형식의 상위 버전을 실행하면 런타임에 오류가 표시됩니다. 상위 형식 버전에서 변경되었습니다.

## <a name="relationship-between-application-specific-parameters-and-an-er-format"></a>애플리케이션별 매개 변수와 ER 형식 간의 관계

ER 형식과 해당 애플리케이션별 매개 변수 간의 관계는 ER 형식의 인스턴스 독립적인 고유 식별 코드에 의해 설정됩니다. 따라서 Finance에서 ER 형식을 제거하면 ER 형식에 대해 구성된 애플리케이션별 매개 변수가 Finance의 현재 인스턴스에 유지됩니다. 기본 ER 형식을 이 Finance 인스턴스로 다시 가져올 때 액세스할 수 있습니다.

## <a name="access-application-specific-parameters-by-using-the-er-framework"></a>ER 프레임워크를 사용하여 애플리케이션별 매개 변수에 액세스

앞의 예시에서는 ER 프레임워크를 사용하여 ER 형식의 애플리케이션별 매개 변수에 액세스했습니다. 이 접근 방식을 사용하면 특정 ER 형식의 애플리케이션별 매개 변수에 대한 액세스를 제한할 수 없습니다. 이러한 제한을 적용해야 하는 경우 다음 단계를 따르십시오. 

1. 기존 **ERSolutionAppSpecificParametersDesigner** 메뉴 항목을 재사용하거나 고유한 **ERSolutionAppSpecificParametersDesigner** 메뉴 항목을 구현하십시오.

    ![ERSolutionAppSpecificParametersDesigner의 메뉴 항목 표시.](./media/GER-AppSpecParms-LookupForm-Access1.PNG)

2. 다음 단계 중 하나를 따르십시오.

    1. 새 메뉴 항목 버튼을 만들고 해당 **데이터 원본** 속성을 **ERSolutionTable** 로 설정하여 **ERSolutionTable** 테이블의 해당 기록에 연결합니다.

        ![새 메뉴 항목 설정 표시.](./media/GER-AppSpecParms-LookupForm-Access2.PNG)

    2. 다음 예시와 같이 간단한 버튼을 만들고 **Clicked** 메서드를 재정의합니다.

        이 접근 방식을 사용하면 고유한 솔루션 ID(**GUID** 값을 통해 정의됨)를 지정하여 특정 ER 형식 및 이 형식에서 파생된 하위 복사본의 애플리케이션별 매개 변수에 대한 액세스를 허용할 수 있습니다.
        
        ```xpp
        public void clicked()
            {
                super();

                ERSolutionTable solutionTableRecord = ERSolutionTable::findByGUID(str2Guid('ADACCB2F-EFD1-4C90-877D-7E1E5D1AEE92'));

                Args args = new Args();
                args.record(solutionTableRecord);
                args.caller(this);

                new MenuFunction(menuItemDisplayStr(ERSolutionAppSpecificParametersDesigner), MenuItemType::Display)
                    .run(args);
            }
        ```

## <a name="additional-resources"></a>추가 리소스

[전자 보고의 공식 디자이너](general-electronic-reporting-formula-designer.md)

[법인별로 지정된 매개 변수를 사용하도록 ER 형식 구성](er-app-specific-parameters-configure-format.md)

[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
