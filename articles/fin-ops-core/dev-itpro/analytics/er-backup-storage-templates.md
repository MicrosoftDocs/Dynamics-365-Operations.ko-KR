---
title: ER 템플릿의 백업 스토리지
description: 이번에는 템플릿 복구를 위해 전자 보고(ER) 백업 저장소를 사용하는 방법에 대해 설명합니다.
author: NickSelin
ms.date: 04/29/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 27621
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-08-13
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: b5de8b9dc06cf10bda1932d5f4ee4484cdae591564fdcd5dd28c5036b82abc66
ms.sourcegitcommit: 42fe9790ddf0bdad911544deaa82123a396712fb
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 08/05/2021
ms.locfileid: "8460961"
---
# <a name="backup-storage-of-er-templates"></a>ER 템플릿의 백업 스토리지

[!include [banner](../includes/banner.md)]

[전자 보고(ER) 개요](general-electronic-reporting.md)를 통해 비즈니스 사용자는 다양한 국가 및 지역의 법적 요구 사항에 따라 아웃바운드 문서의 형식을 구성할 수 있습니다. 구성된 ER 형식은 미리 정의된 템플릿을 사용하여 Microsoft Excel 통합 문서, Microsoft Word 문서 또는 PDF 문서와 같은 다양한 형식의 아웃바운드 문서를 생성할 수 있습니다. 템플릿은 생성된 문서에 대해 구성된 데이터 흐름에 필요한 데이터로 채워집니다.

구성된 각 형식은 ER 솔루션의 일부로 게시할 수 있습니다. 각 ER 솔루션은 Finance and Operations의 한 인스턴스에서 내보내고 다른 인스턴스로 가져올 수 있습니다.

ER 프레임워크는 [문서 관리 구성](../../fin-ops/organization-administration/configure-document-management.md)을 사용하여 현재 재무 및 운영 인스턴스에 필요한 템플릿을 유지합니다. ER 프레임워크의 설정에 따라 Microsoft Azure Blob 저장소 또는 Microsoft SharePoint 폴더를 템플릿의 물리적 기본 저장소 위치로 선택할 수 있습니다. (자세한 내용은 [전자 보고(ER) 프레임워크 구성](electronic-reporting-er-configure-parameters.md)을 참조하십시오.) DocuValue 테이블은 각 템플릿에 대한 개별 기록을 보유합니다. 각 기록에서 **AccessInformation** 필드는 구성된 저장 위치에 있는 템플릿 파일의 경로를 저장합니다.

재무 및 운영 인스턴스를 관리할 때 현재 인스턴스를 다른 위치로 마이그레이션하기로 결정할 수 있습니다. 예를 들어 프로덕션 인스턴스를 새 샌드박스 환경으로 마이그레이션할 수 있습니다. 템플릿을 Blob 저장소에 저장하도록 ER 프레임워크를 구성한 경우 새 샌드박스 환경의 DocuValue 테이블은 프로덕션 환경의 Blob 저장소 인스턴스를 참조합니다. 그러나 마이그레이션 프로세스가 Blob Storage의 아티팩트 마이그레이션을 지원하지 않기 때문에 이 인스턴스는 샌드박스 환경에서 액세스할 수 없습니다. 따라서 템플릿을 사용하여 비즈니스 문서를 생성하는 ER 형식을 실행하려고 하면 예외가 발생하고 누락된 템플릿에 대한 알림을 받습니다. 또한 ER 정리 도구를 사용하여 템플릿이 포함된 ER 형식 구성을 삭제한 다음 다시 가져오도록 안내합니다. 여러 ER 형식 구성이 있을 수 있으므로 이 프로세스는 시간이 많이 걸릴 수 있습니다.

ER 템플릿의 백업 저장소 기능을 사용하면 템플릿을 만들어 비즈니스 문서를 생성하는 데 항상 사용할 수 있습니다.

> [!NOTE]
> 이 기능은 Blob 저장소가 ER 템플릿의 물리적 저장소 위치로 선택된 경우에만 사용할 수 있습니다.

## <a name="automated-recovery-and-notification"></a>자동 복구 및 알림

이 기능의 경우 현재 환경에 있는 새 ER 형식 구성의 모든 템플릿은 다음 이벤트가 발생할 때 템플릿의 백업 저장 위치(ERDocuDatabaseStorage 데이터베이스 테이블)에 자동으로 저장됩니다.

- 템플릿이 포함된 새 ER 형식 구성을 가져옵니다.
- 템플릿이 포함된 ER 형식 구성의 초안 버전을 완료합니다.

템플릿의 백업 복사본은 애플리케이션 데이터베이스의 일부로 Finance and Operations의 새 인스턴스로 마이그레이션됩니다.

아웃바운드 문서 생성을 위해 ER 형식의 템플릿이 필요한 경우, 예를 들어 지급 통지 및 제어 보고서 생성을 포함하여 공급 업체 지급을 처리하지만 필요한 템플릿이 기본 저장 위치에 없는 경우 다음 이벤트가 발생합니다.

- 백업 저장소 위치에서 템플릿을 사용할 수 있는 경우 백업 저장소 위치에서 자동으로 가져와서 기본 저장소 위치로 복원하고 현재 실행에 사용합니다.
- **전자 보고 개발자** 또는 **시스템 관리자 역할** 에 할당된 모든 사용자는 관리 센터를 통해 누락된 템플릿 문제에 대한 알림을 받습니다. 표시되는 메시지는 **배치 매개 변수에서 손상된 템플릿을 복원하는 절차를 자동으로 실행** 의 값에 따라 다릅니다.

    - 이 매개 변수를 **끄기** 로 설정하면 다른 ER 형식 구성 템플릿에 대한 유사한 문제를 자동으로 수정하도록 일괄 처리를 시작하라는 메시지가 표시됩니다. 메시지에는 일괄 처리를 시작하는 데 사용할 수 있는 링크가 포함되어 있습니다.
    - 이 매개 변수를 **On** 으로 설정하면 누락된 템플릿 문제가 발견되었으며 **새 일괄 처리 프로세스인 내부 데이터베이스 백업** 에서 손상된 템플릿 복원이 자동으로 예약되었음을 알리는 메시지가 표시됩니다. 이 일괄 처리는 다른 템플릿의 유사한 문제를 자동으로 수정합니다.

**깨진 템플릿을 일괄적으로 복원하는 절차를 자동으로 실행** 매개 변수를 설정하려면 다음 단계를 완료하십시오.

1. 재무 및 운영에서 **조직 관리 \> 전자 보고 \> 구성 페이지** 를 엽니다.
2. **작업** 페이지의 작업 창에 있는 **작업** 탭에 있는 **작업** 그룹에서 **작업 취소** 를 선택합니다.
3. **사용자 매개 변수** 대화 상자에서 **손상된 템플릿을 일괄적으로 복원하는 절차를 자동으로 실행** 매개 변수에 필요한 값을 설정합니다.

> [!NOTE]
> 이 매개 변수는 애플리케이션 사용자 및 로그인된 회사별로 정의됩니다.

![ER 구성 페이지.](./media/GER-BackupTemplates-1.png)

다음 그림은 **손상된 템플릿을 일괄적으로 복원하는 절차를 자동으로 실행** 매개 변수가 **켜기** 로 설정된 경우 표시되는 메시지의 예를 보여줍니다.

![공급 업체 지급 분개 페이지.](./media/GER-BackupTemplates-2.png)

다음 그림은 **일괄 작업 페이지의 내부 데이터베이스 백업 일괄 프로세스** 에서 손상된 **템플릿 복원** 을 보여줍니다.

![일괄 작업 페이지입니다.](./media/GER-BackupTemplates-3.png)

완료된 **내부 데이터베이스 백업에서 손상된 템플릿 복원** 일괄 처리의 실행 로그에는 백업 저장소 위치에서 기본 저장소 위치로 복원된 템플릿에 대한 정보가 포함됩니다.

![일괄 작업 기록 페이지입니다.](./media/GER-BackupTemplates-4.png)

기본적으로 ER 형식 구성에 있는 템플릿의 백업 복사본을 자동으로 생성하는 프로세스가 켜져 있습니다. 템플릿의 백업 복사본 만들기를 중지하려면 **전자 보고 매개 변수** 페이지의 **첨부** 탭에서 **템플릿의 백업 복사본 만들기 중지** 옵션을 **예** 로 설정합니다. **전자 보고** 작업 공간에서 이 페이지를 열 수 있습니다.

**템플릿의 백업 복사본 만들기 중지** 옵션을 **예** 로 설정하고 이전에 템플릿으로 만든 백업 복사본을 유지하지 않으려면 **전자 보고 매개 변수** 페이지에서 **백업 저장소 정리** 를 선택합니다.

환경을 재무 및 운영 버전 10.0.5(2019년 10월)로 업그레이드하고 실행할 수 있는 ER 형식 구성이 포함된 새 환경으로 마이그레이션하려는 경우 마이그레이션이 발생하기 전에 **전자 보고 매개 변수** 페이지에서 **백업 스토리지 채우기** 를 선택하십시오. . 이 버튼은 사용 가능한 모든 템플릿의 백업 복사본을 만드는 프로세스를 시작하여 템플릿의 ER 백업 저장 위치에 저장할 수 있습니다.

![전자 보고 매개 변수 페이지.](./media/GER-BackupTemplates-5.png)

## <a name="manual-recovery"></a>수동 복구

**조직 관리** \> **전자 보고** \> **손상된 템플릿 복원** 으로 이동하여 백업 저장 위치에서 기본 저장 위치로 ER 템플릿 복원 프로세스를 수동으로 시작합니다. 이 프로세스를 시작하기 전에 **손상된 템플릿 복원** 페이지에서 대화식으로 수행할지 아니면 일괄 처리를 예약할지 지정할 수 있습니다.

## <a name="supported-deployments"></a>지원되는 배포

Finance and Operations 버전 10.0.5에서 ER 템플릿의 백업 저장소 기능은 클라우드 배포에서만 사용할 수 있습니다.

## <a name="additional-resources"></a>추가 리소스

[전자 보고(ER) 개요](general-electronic-reporting.md)

[전자 보고(ER) 프레임워크 구성](electronic-reporting-er-configure-parameters.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]